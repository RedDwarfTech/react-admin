{"version":3,"file":"vendors-node_modules_echarts_lib_chart_line_js-node_modules_echarts_lib_component_legend_js-n-ff0b76.js","mappings":"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","sources":["webpack://react-admin/./node_modules/echarts/lib/chart/helper/Symbol.js","webpack://react-admin/./node_modules/echarts/lib/chart/helper/SymbolDraw.js","webpack://react-admin/./node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js","webpack://react-admin/./node_modules/echarts/lib/chart/helper/labelHelper.js","webpack://react-admin/./node_modules/echarts/lib/chart/line.js","webpack://react-admin/./node_modules/echarts/lib/chart/line/LineSeries.js","webpack://react-admin/./node_modules/echarts/lib/chart/line/LineView.js","webpack://react-admin/./node_modules/echarts/lib/chart/line/helper.js","webpack://react-admin/./node_modules/echarts/lib/chart/line/lineAnimationDiff.js","webpack://react-admin/./node_modules/echarts/lib/chart/line/poly.js","webpack://react-admin/./node_modules/echarts/lib/component/axis.js","webpack://react-admin/./node_modules/echarts/lib/component/axis/AxisBuilder.js","webpack://react-admin/./node_modules/echarts/lib/component/axis/AxisView.js","webpack://react-admin/./node_modules/echarts/lib/component/axis/CartesianAxisView.js","webpack://react-admin/./node_modules/echarts/lib/component/axis/axisSplitHelper.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/AxisPointerModel.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/AxisPointerView.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/CartesianAxisPointer.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/axisTrigger.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/findPointFromSeries.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/globalListener.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/modelHelper.js","webpack://react-admin/./node_modules/echarts/lib/component/axisPointer/viewHelper.js","webpack://react-admin/./node_modules/echarts/lib/component/gridSimple.js","webpack://react-admin/./node_modules/echarts/lib/component/helper/listComponent.js","webpack://react-admin/./node_modules/echarts/lib/component/legend.js","webpack://react-admin/./node_modules/echarts/lib/component/legend/LegendModel.js","webpack://react-admin/./node_modules/echarts/lib/component/legend/LegendView.js","webpack://react-admin/./node_modules/echarts/lib/component/legend/legendAction.js","webpack://react-admin/./node_modules/echarts/lib/component/legend/legendFilter.js","webpack://react-admin/./node_modules/echarts/lib/component/title.js","webpack://react-admin/./node_modules/echarts/lib/component/tooltip.js","webpack://react-admin/./node_modules/echarts/lib/component/tooltip/TooltipContent.js","webpack://react-admin/./node_modules/echarts/lib/component/tooltip/TooltipModel.js","webpack://react-admin/./node_modules/echarts/lib/component/tooltip/TooltipRichContent.js","webpack://react-admin/./node_modules/echarts/lib/component/tooltip/TooltipView.js","webpack://react-admin/./node_modules/echarts/lib/coord/axisDefault.js","webpack://react-admin/./node_modules/echarts/lib/coord/axisModelCreator.js","webpack://react-admin/./node_modules/echarts/lib/coord/cartesian/Axis2D.js","webpack://react-admin/./node_modules/echarts/lib/coord/cartesian/AxisModel.js","webpack://react-admin/./node_modules/echarts/lib/coord/cartesian/Cartesian.js","webpack://react-admin/./node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","webpack://react-admin/./node_modules/echarts/lib/coord/cartesian/Grid.js","webpack://react-admin/./node_modules/echarts/lib/coord/cartesian/GridModel.js","webpack://react-admin/./node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","webpack://react-admin/./node_modules/echarts/lib/layout/points.js","webpack://react-admin/./node_modules/echarts/lib/processor/dataSample.js","webpack://react-admin/./node_modules/echarts/lib/visual/symbol.js","webpack://react-admin/./node_modules/screenfull/dist/screenfull.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  } else {\n    symbolPath.setStyle({\n      opacity: 1,\n      shadowBlur: null,\n      shadowOffsetX: null,\n      shadowOffsetY: null,\n      shadowColor: null\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n  symbolPath.hoverStyle = hoverItemStyle;\n  symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n  graphic.setHoverStyle(symbolPath);\n};\n\nfunction highDownOnUpdate(fromState, toState) {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  if (toState === 'emphasis') {\n    var scale = this.__symbolOriginalScale;\n    var ratio = scale[1] / scale[0];\n    var emphasisOpt = {\n      scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n    }; // FIXME\n    // modify it after support stop specified animation.\n    // toState === fromState\n    //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n    this.animateTo(emphasisOpt, 400, 'elasticOut');\n  } else if (toState === 'normal') {\n    this.animateTo({\n      scale: this.__symbolOriginalScale\n    }, 400, 'elasticOut');\n  }\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"./Symbol\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.updateData = function (data, opt) {\n  opt = normalizeUpdateOpt(opt);\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldData) {\n    group.removeAll();\n  }\n\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, point, newIdx, opt)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.isPersistent = function () {\n  return true;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.incrementalPrepareUpdate = function (data) {\n  this._seriesScope = makeSeriesScope(data);\n  this._data = null;\n  this.group.removeAll();\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n  opt = normalizeUpdateOpt(opt);\n\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var point = data.getItemLayout(idx);\n\n    if (symbolNeedsDraw(data, point, idx, opt)) {\n      var el = new this._symbolCtor(data, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      el.attr('position', point);\n      this.group.add(el);\n      data.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data; // Incremental model do not have this._data.\n\n  if (data && enableAnimation) {\n    data.eachItemGraphicEl(function (el) {\n      el.fadeOut(function () {\n        group.remove(el);\n      });\n    });\n  } else {\n    group.removeAll();\n  }\n};\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  return {\n    itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label'),\n    hoverLabelModel: seriesModel.getModel('emphasis.label'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar _default = SymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel) {\n  var rect = cartesian.getArea();\n  var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n  x = Math.floor(x);\n  width = Math.round(width);\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: round(sectorArea.r0, 1),\n      r: round(sectorArea.r, 1),\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape.endAngle = sectorArea.startAngle;\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipPath(coordSys, hasAnimation, seriesModel) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel);\n  }\n\n  return null;\n}\n\nexports.createGridClipPath = createGridClipPath;\nexports.createPolarClipPath = createPolarClipPath;\nexports.createClipPath = createClipPath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {string} label string. Not null/undefined\n */\nfunction getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimension('defaultedLabel', true);\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    return retrieveRawValue(data, dataIndex, labelDims[0]);\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      var val = retrieveRawValue(data, dataIndex, labelDims[i]);\n      vals.push(val);\n    }\n\n    return vals.join(' ');\n  }\n}\n\nexports.getDefaultLabel = getDefaultLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./line/LineSeries\");\n\nrequire(\"./line/LineView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nvar dataSample = require(\"../processor/dataSample\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('line', 'circle', 'line'));\necharts.registerLayout(layoutPoints('line')); // Down sample after filter\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.line',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // stack: null\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // If clip the overflow value\n    clip: true,\n    // cursor: null,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _bbox = require(\"zrender/lib/core/bbox\");\n\nvar fromPoints = _bbox.fromPoints;\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar lineAnimationDiff = require(\"./lineAnimationDiff\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _poly = require(\"./poly\");\n\nvar Polyline = _poly.Polyline;\nvar Polygon = _poly.Polygon;\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createGridClipPath = _createClipPathFromCoordSys.createGridClipPath;\nvar createPolarClipPath = _createClipPathFromCoordSys.createPolarClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME step not support polar\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    var p1 = points1[i];\n    var p2 = points2[i];\n\n    if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var min1 = [];\n  var max1 = [];\n  var min2 = [];\n  var max2 = [];\n  fromPoints(points1, min1, max1);\n  fromPoints(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Object} dataCoordInfo\n * @param {Array.<Array.<number>>} points\n */\n\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var points = [];\n\n  for (var idx = 0, len = data.count(); idx < len; idx++) {\n    points.push(getStackedOnPoint(dataCoordInfo, coordSys, data, idx));\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n\n  for (var i = 0; i < points.length - 1; i++) {\n    var nextPt = points[i + 1];\n    var pt = points[i];\n    stepPoints.push(pt);\n    var stepPt = [];\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n        break;\n\n      case 'middle':\n        // default is start\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt);\n        stepPoints.push(stepPt2);\n        break;\n\n      default:\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n    }\n  } // Last points\n\n\n  points[i] && stepPoints.push(points[i]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    // notice colorStops.length have been changed.\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    labelMap[labelItem.tickValue] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction createLineClipPath(coordSys, hasAnimation, seriesModel) {\n  if (coordSys.type === 'cartesian2d') {\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    }\n\n    return clipPath;\n  } else {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nvar _default = ChartView.extend({\n  type: 'line',\n  init: function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.mapArray(data.getItemLayout);\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar && seriesModel.get('step');\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r1 += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      });\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n      }\n\n      polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      }\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      }); // Stop symbol animation and sync with line points\n      // FIXME performance?\n\n      data.eachItemGraphicEl(function (el) {\n        el.stopAnimation(true);\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    var smooth = seriesModel.get('smooth');\n    smooth = getSmooth(seriesModel.get('smooth'));\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: seriesModel.get('smoothMonotone'),\n      connectNulls: seriesModel.get('connectNulls')\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel'\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n    }\n\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  },\n  dispose: function () {},\n  highlight: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var pt = data.getItemLayout(dataIndex);\n\n        if (!pt) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n          return;\n        }\n\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.position = pt;\n        symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n        symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n  downplay: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolyline: function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new Polyline({\n      shape: {\n        points: points\n      },\n      silent: true,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} stackedOnPoints\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolygon: function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new Polygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      silent: true\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  },\n\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    } // `diff.current` is subset of `current` (which should be ensured by\n    // turnPointsIntoStep), so points in `__points` can be updated when\n    // points in `current` are update during animation.\n\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    graphic.updateProps(polyline, {\n      shape: {\n        points: next\n      }\n    }, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      graphic.updateProps(polygon, {\n        shape: {\n          points: next,\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n        }\n      });\n    }\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} coordSys\n * @param {module:echarts/data/List} data\n * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n */\nfunction prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (stacked |= isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    dims[0] = stackResultDim;\n  }\n\n  if (stacked |= isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nfunction getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}\n\nexports.prepareDataCoordInfo = prepareDataCoordInfo;\nexports.getStackedOnPoint = getStackedOnPoint;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  var oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar fixClipWithShadow = require(\"zrender/lib/graphic/helper/fixClipWithShadow\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Poly path support NaN point\nvar vec2Min = vec2.min;\nvar vec2Max = vec2.max;\nvar scaleAndAdd = vec2.scaleAndAdd;\nvar v2Copy = vec2.copy; // Temporary variable\n\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n  return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  // if (smoothMonotone == null) {\n  //     if (isMono(points, 'x')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n  //     }\n  //     else if (isMono(points, 'y')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n  //     }\n  //     else {\n  //         return drawNonMono.apply(this, arguments);\n  //     }\n  // }\n  // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n  //     return drawMono.apply(this, arguments);\n  // }\n  // else {\n  //     return drawNonMono.apply(this, arguments);\n  // }\n  if (smoothMonotone === 'none' || !smoothMonotone) {\n    return drawNonMono.apply(this, arguments);\n  } else {\n    return drawMono.apply(this, arguments);\n  }\n}\n/**\n * Check if points is in monotone.\n *\n * @param {number[][]} points         Array of points which is in [x, y] form\n * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n *                                    dimension that is checking.\n *                                    If is 'none', `drawNonMono` should be\n *                                    called.\n *                                    If is undefined, either being monotone\n *                                    in 'x' or 'y' will call `drawMono`.\n */\n// function isMono(points, smoothMonotone) {\n//     if (points.length <= 1) {\n//         return true;\n//     }\n//     var dim = smoothMonotone === 'x' ? 0 : 1;\n//     var last = points[0][dim];\n//     var lastDiff = 0;\n//     for (var i = 1; i < points.length; ++i) {\n//         var diff = points[i][dim] - last;\n//         if (!isNaN(diff) && !isNaN(lastDiff)\n//             && diff !== 0 && lastDiff !== 0\n//             && ((diff >= 0) !== (lastDiff >= 0))\n//         ) {\n//             return false;\n//         }\n//         if (!isNaN(diff) && diff !== 0) {\n//             lastDiff = diff;\n//             last = points[i][dim];\n//         }\n//     }\n//     return true;\n// }\n\n/**\n * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n * control points will be used. This should be used when points are monotone\n * either in x or y dimension.\n */\n\n\nfunction drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n    } else {\n      if (smooth > 0) {\n        var prevP = points[prevIdx];\n        var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n        var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n        v2Copy(cp0, prevP);\n        cp0[dim] = prevP[dim] + ctrlLen;\n        v2Copy(cp1, p);\n        cp1[dim] = p[dim] - ctrlLen;\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      v2Copy(cp0, p);\n    } else {\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextP = points[nextIdx];\n\n        if (connectNulls) {\n          // Find next point not null\n          while (nextP && isPointNull(points[nextIdx])) {\n            nextIdx += dir;\n            nextP = points[nextIdx];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var prevP = points[prevIdx];\n        var nextP = points[nextIdx]; // Last point\n\n        if (!nextP || isPointNull(nextP)) {\n          v2Copy(cp1, p);\n        } else {\n          // If next data is null in not connect case\n          if (isPointNull(nextP) && !connectNulls) {\n            nextP = p;\n          }\n\n          vec2.sub(v, nextP, prevP);\n          var lenPrevSeg;\n          var lenNextSeg;\n\n          if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n            var dim = smoothMonotone === 'x' ? 0 : 1;\n            lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n            lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n          } else {\n            lenPrevSeg = vec2.dist(p, prevP);\n            lenNextSeg = vec2.dist(p, nextP);\n          } // Use ratio of seg length\n\n\n          ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n          scaleAndAdd(cp1, p, v, -smooth * (1 - ratioNextSeg));\n        } // Smooth constraint\n\n\n        vec2Min(cp0, cp0, smoothMax);\n        vec2Max(cp0, cp0, smoothMin);\n        vec2Min(cp1, cp1, smoothMax);\n        vec2Max(cp1, cp1, smoothMin);\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n        scaleAndAdd(cp0, p, v, smooth * ratioNextSeg);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n  var ptMin = [Infinity, Infinity];\n  var ptMax = [-Infinity, -Infinity];\n\n  if (smoothConstraint) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (pt[0] < ptMin[0]) {\n        ptMin[0] = pt[0];\n      }\n\n      if (pt[1] < ptMin[1]) {\n        ptMin[1] = pt[1];\n      }\n\n      if (pt[0] > ptMax[0]) {\n        ptMax[0] = pt[0];\n      }\n\n      if (pt[1] > ptMax[1]) {\n        ptMax[1] = pt[1];\n      }\n    }\n  }\n\n  return {\n    min: smoothConstraint ? ptMin : ptMax,\n    max: smoothConstraint ? ptMax : ptMin\n  };\n}\n\nvar Polyline = Path.extend({\n  type: 'ec-polyline',\n  shape: {\n    points: [],\n    smooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  style: {\n    fill: null,\n    stroke: '#000'\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length;\n    var result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  }\n});\nvar Polygon = Path.extend({\n  type: 'ec-polygon',\n  shape: {\n    points: [],\n    // Offset between stacked base points and points\n    stackedOnPoints: [],\n    smooth: 0,\n    stackedOnSmooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length;\n    var smoothMonotone = shape.smoothMonotone;\n    var bbox = getBoundingBox(points, shape.smoothConstraint);\n    var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  }\n});\nexports.Polyline = Polyline;\nexports.Polygon = Polygon;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/cartesian/AxisModel\");\n\nrequire(\"./axis/CartesianAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar retrieve = _util.retrieve;\nvar defaults = _util.defaults;\nvar extend = _util.extend;\nvar each = _util.each;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _number = require(\"../../util/number\");\n\nvar isRadianAroundZero = _number.isRadianAroundZero;\nvar remRadian = _number.remRadian;\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar matrixUtil = require(\"zrender/lib/core/matrix\");\n\nvar _vector = require(\"zrender/lib/core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar shouldShowAllLabels = _axisHelper.shouldShowAllLabels;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI = Math.PI;\n/**\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n * for example: (0, 0) ------------> (0, 50)\n *\n * nameDirection or tickDirection or labelDirection is 1 means tick\n * or label is below the standard axis, whereas is -1 means above\n * the standard axis. labelOffset means offset between label and axis,\n * which is useful when 'onZero', where axisLabel is in the grid and\n * label in outside grid.\n *\n * Tips: like always,\n * positive rotation represents anticlockwise, and negative rotation\n * represents clockwise.\n * The direction of position coordinate is the same as the direction\n * of screen coordinate.\n *\n * Do not need to consider axis 'inverse', which is auto processed by\n * axis extent.\n *\n * @param {module:zrender/container/Group} group\n * @param {Object} axisModel\n * @param {Object} opt Standard axis parameters.\n * @param {Array.<number>} opt.position [x, y]\n * @param {number} opt.rotation by radian\n * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n * @param {number} [opt.tickDirection=1] 1 or -1\n * @param {number} [opt.labelDirection=1] 1 or -1\n * @param {number} [opt.labelOffset=0] Usefull when onZero.\n * @param {string} [opt.axisLabelShow] default get from axisModel.\n * @param {string} [opt.axisName] default get from axisModel.\n * @param {number} [opt.axisNameAvailableWidth]\n * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n * @param {number} [opt.strokeContainThreshold] Default label interval when label\n * @param {number} [opt.nameTruncateMaxWidth]\n */\n\nvar AxisBuilder = function (axisModel, opt) {\n  /**\n   * @readOnly\n   */\n  this.opt = opt;\n  /**\n   * @readOnly\n   */\n\n  this.axisModel = axisModel; // Default value\n\n  defaults(opt, {\n    labelOffset: 0,\n    nameDirection: 1,\n    tickDirection: 1,\n    labelDirection: 1,\n    silent: true\n  });\n  /**\n   * @readOnly\n   */\n\n  this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n  var dumbGroup = new graphic.Group({\n    position: opt.position.slice(),\n    rotation: opt.rotation\n  }); // this.group.add(dumbGroup);\n  // this._dumbGroup = dumbGroup;\n\n  dumbGroup.updateTransform();\n  this._transform = dumbGroup.transform;\n  this._dumbGroup = dumbGroup;\n};\n\nAxisBuilder.prototype = {\n  constructor: AxisBuilder,\n  hasBuilder: function (name) {\n    return !!builders[name];\n  },\n  add: function (name) {\n    builders[name].call(this);\n  },\n  getGroup: function () {\n    return this.group;\n  }\n};\nvar builders = {\n  /**\n   * @private\n   */\n  axisLine: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n\n    if (!axisModel.get('axisLine.show')) {\n      return;\n    }\n\n    var extent = this.axisModel.axis.getExtent();\n    var matrix = this._transform;\n    var pt1 = [extent[0], 0];\n    var pt2 = [extent[1], 0];\n\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    }\n\n    var lineStyle = extend({\n      lineCap: 'round'\n    }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n    this.group.add(new graphic.Line({\n      // Id for animation\n      anid: 'line',\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: lineStyle,\n      strokeContainThreshold: opt.strokeContainThreshold || 5,\n      silent: true,\n      z2: 1\n    }));\n    var arrows = axisModel.get('axisLine.symbol');\n    var arrowSize = axisModel.get('axisLine.symbolSize');\n    var arrowOffset = axisModel.get('axisLine.symbolOffset') || 0;\n\n    if (typeof arrowOffset === 'number') {\n      arrowOffset = [arrowOffset, arrowOffset];\n    }\n\n    if (arrows != null) {\n      if (typeof arrows === 'string') {\n        // Use the same arrow for start and end point\n        arrows = [arrows, arrows];\n      }\n\n      if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n        // Use the same size for width and height\n        arrowSize = [arrowSize, arrowSize];\n      }\n\n      var symbolWidth = arrowSize[0];\n      var symbolHeight = arrowSize[1];\n      each([{\n        rotate: opt.rotation + Math.PI / 2,\n        offset: arrowOffset[0],\n        r: 0\n      }, {\n        rotate: opt.rotation - Math.PI / 2,\n        offset: arrowOffset[1],\n        r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n      }], function (point, index) {\n        if (arrows[index] !== 'none' && arrows[index] != null) {\n          var symbol = createSymbol(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true); // Calculate arrow position with offset\n\n          var r = point.r + point.offset;\n          var pos = [pt1[0] + r * Math.cos(opt.rotation), pt1[1] - r * Math.sin(opt.rotation)];\n          symbol.attr({\n            rotation: point.rotate,\n            position: pos,\n            silent: true,\n            z2: 11\n          });\n          this.group.add(symbol);\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  axisTickLabel: function () {\n    var axisModel = this.axisModel;\n    var opt = this.opt;\n    var ticksEls = buildAxisMajorTicks(this, axisModel, opt);\n    var labelEls = buildAxisLabel(this, axisModel, opt);\n    fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n    buildAxisMinorTicks(this, axisModel, opt);\n  },\n\n  /**\n   * @private\n   */\n  axisName: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n    var name = retrieve(opt.axisName, axisModel.get('name'));\n\n    if (!name) {\n      return;\n    }\n\n    var nameLocation = axisModel.get('nameLocation');\n    var nameDirection = opt.nameDirection;\n    var textStyleModel = axisModel.getModel('nameTextStyle');\n    var gap = axisModel.get('nameGap') || 0;\n    var extent = this.axisModel.axis.getExtent();\n    var gapSignal = extent[0] > extent[1] ? -1 : 1;\n    var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n    // Reuse labelOffset.\n    isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n    var labelLayout;\n    var nameRotation = axisModel.get('nameRotate');\n\n    if (nameRotation != null) {\n      nameRotation = nameRotation * PI / 180; // To radian.\n    }\n\n    var axisNameAvailableWidth;\n\n    if (isNameLocationCenter(nameLocation)) {\n      labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n      nameDirection);\n    } else {\n      labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n      axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n      if (axisNameAvailableWidth != null) {\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n      }\n    }\n\n    var textFont = textStyleModel.getFont();\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\n    var ellipsis = truncateOpt.ellipsis;\n    var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n    // truncate rich text? (consider performance)\n\n    var truncatedText = ellipsis != null && maxWidth != null ? formatUtil.truncateText(name, maxWidth, textFont, ellipsis, {\n      minChar: 2,\n      placeholder: truncateOpt.placeholder\n    }) : name;\n    var tooltipOpt = axisModel.get('tooltip', true);\n    var mainType = axisModel.mainType;\n    var formatterParams = {\n      componentType: mainType,\n      name: name,\n      $vars: ['name']\n    };\n    formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'name',\n      __fullText: name,\n      __truncatedText: truncatedText,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: isLabelSilent(axisModel),\n      z2: 1,\n      tooltip: tooltipOpt && tooltipOpt.show ? extend({\n        content: name,\n        formatter: function () {\n          return name;\n        },\n        formatterParams: formatterParams\n      }, tooltipOpt) : null\n    });\n    graphic.setTextStyle(textEl.style, textStyleModel, {\n      text: truncatedText,\n      textFont: textFont,\n      textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n      textAlign: textStyleModel.get('align') || labelLayout.textAlign,\n      textVerticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n    });\n\n    if (axisModel.get('triggerEvent')) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisName';\n      textEl.eventData.name = name;\n    } // FIXME\n\n\n    this._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    this.group.add(textEl);\n    textEl.decomposeTransform();\n  }\n};\n\nvar makeAxisEventDataBase = AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n  var eventData = {\n    componentType: axisModel.mainType,\n    componentIndex: axisModel.componentIndex\n  };\n  eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n  return eventData;\n};\n/**\n * @public\n * @static\n * @param {Object} opt\n * @param {number} axisRotation in radian\n * @param {number} textRotation in radian\n * @param {number} direction\n * @return {Object} {\n *  rotation, // according to axis\n *  textAlign,\n *  textVerticalAlign\n * }\n */\n\n\nvar innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n  var rotationDiff = remRadian(textRotation - axisRotation);\n  var textAlign;\n  var textVerticalAlign;\n\n  if (isRadianAroundZero(rotationDiff)) {\n    // Label is parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI)) {\n    // Label is inverse parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff > 0 && rotationDiff < PI) {\n      textAlign = direction > 0 ? 'right' : 'left';\n    } else {\n      textAlign = direction > 0 ? 'left' : 'right';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n};\n\nfunction endTextLayout(opt, textPosition, textRotate, extent) {\n  var rotationDiff = remRadian(textRotate - opt.rotation);\n  var textAlign;\n  var textVerticalAlign;\n  var inverse = extent[0] > extent[1];\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\n      textAlign = onLeft ? 'left' : 'right';\n    } else {\n      textAlign = onLeft ? 'right' : 'left';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n\nvar isLabelSilent = AxisBuilder.isLabelSilent = function (axisModel) {\n  var tooltipOpt = axisModel.get('tooltip');\n  return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n  || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n};\n\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n  if (shouldShowAllLabels(axisModel.axis)) {\n    return;\n  } // If min or max are user set, we need to check\n  // If the tick on min(max) are overlap on their neighbour tick\n  // If they are overlapped, we need to hide the min(max) tick label\n\n\n  var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n  var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n  // Have not consider onBand yet, where tick els is more than label els.\n\n  labelEls = labelEls || [];\n  tickEls = tickEls || [];\n  var firstLabel = labelEls[0];\n  var nextLabel = labelEls[1];\n  var lastLabel = labelEls[labelEls.length - 1];\n  var prevLabel = labelEls[labelEls.length - 2];\n  var firstTick = tickEls[0];\n  var nextTick = tickEls[1];\n  var lastTick = tickEls[tickEls.length - 1];\n  var prevTick = tickEls[tickEls.length - 2];\n\n  if (showMinLabel === false) {\n    ignoreEl(firstLabel);\n    ignoreEl(firstTick);\n  } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n    if (showMinLabel) {\n      ignoreEl(nextLabel);\n      ignoreEl(nextTick);\n    } else {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    }\n  }\n\n  if (showMaxLabel === false) {\n    ignoreEl(lastLabel);\n    ignoreEl(lastTick);\n  } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n    if (showMaxLabel) {\n      ignoreEl(prevLabel);\n      ignoreEl(prevTick);\n    } else {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    }\n  }\n}\n\nfunction ignoreEl(el) {\n  el && (el.ignore = true);\n}\n\nfunction isTwoLabelOverlapped(current, next, labelLayout) {\n  // current and next has the same rotation.\n  var firstRect = current && current.getBoundingRect().clone();\n  var nextRect = next && next.getBoundingRect().clone();\n\n  if (!firstRect || !nextRect) {\n    return;\n  } // When checking intersect of two rotated labels, we use mRotationBack\n  // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n  var mRotationBack = matrixUtil.identity([]);\n  matrixUtil.rotate(mRotationBack, mRotationBack, -current.rotation);\n  firstRect.applyTransform(matrixUtil.mul([], mRotationBack, current.getLocalTransform()));\n  nextRect.applyTransform(matrixUtil.mul([], mRotationBack, next.getLocalTransform()));\n  return firstRect.intersect(nextRect);\n}\n\nfunction isNameLocationCenter(nameLocation) {\n  return nameLocation === 'middle' || nameLocation === 'center';\n}\n\nfunction createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, aniid) {\n  var tickEls = [];\n  var pt1 = [];\n  var pt2 = [];\n\n  for (var i = 0; i < ticksCoords.length; i++) {\n    var tickCoord = ticksCoords[i].coord;\n    pt1[0] = tickCoord;\n    pt1[1] = 0;\n    pt2[0] = tickCoord;\n    pt2[1] = tickEndCoord;\n\n    if (tickTransform) {\n      v2ApplyTransform(pt1, pt1, tickTransform);\n      v2ApplyTransform(pt2, pt2, tickTransform);\n    } // Tick line, Not use group transform to have better line draw\n\n\n    var tickEl = new graphic.Line({\n      // Id for animation\n      anid: aniid + '_' + ticksCoords[i].tickValue,\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: tickLineStyle,\n      z2: 2,\n      silent: true\n    });\n    tickEls.push(tickEl);\n  }\n\n  return tickEls;\n}\n\nfunction buildAxisMajorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var tickModel = axisModel.getModel('axisTick');\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var lineStyleModel = tickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * tickModel.get('length');\n  var ticksCoords = axis.getTicksCoords();\n  var ticksEls = createTicks(ticksCoords, axisBuilder._transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }), 'ticks');\n\n  for (var i = 0; i < ticksEls.length; i++) {\n    axisBuilder.group.add(ticksEls[i]);\n  }\n\n  return ticksEls;\n}\n\nfunction buildAxisMinorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var minorTickModel = axisModel.getModel('minorTick');\n\n  if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var minorTicksCoords = axis.getMinorTicksCoords();\n\n  if (!minorTicksCoords.length) {\n    return;\n  }\n\n  var lineStyleModel = minorTickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * minorTickModel.get('length');\n  var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel('axisTick').getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }));\n\n  for (var i = 0; i < minorTicksCoords.length; i++) {\n    var minorTicksEls = createTicks(minorTicksCoords[i], axisBuilder._transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n\n    for (var k = 0; k < minorTicksEls.length; k++) {\n      axisBuilder.group.add(minorTicksEls[k]);\n    }\n  }\n}\n\nfunction buildAxisLabel(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var show = retrieve(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n  if (!show || axis.scale.isBlank()) {\n    return;\n  }\n\n  var labelModel = axisModel.getModel('axisLabel');\n  var labelMargin = labelModel.get('margin');\n  var labels = axis.getViewLabels(); // Special label rotate.\n\n  var labelRotation = (retrieve(opt.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\n  var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n  var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n  var labelEls = [];\n  var silent = isLabelSilent(axisModel);\n  var triggerEvent = axisModel.get('triggerEvent');\n  each(labels, function (labelItem, index) {\n    var tickValue = labelItem.tickValue;\n    var formattedLabel = labelItem.formattedLabel;\n    var rawLabel = labelItem.rawLabel;\n    var itemLabelModel = labelModel;\n\n    if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n      itemLabelModel = new Model(rawCategoryData[tickValue].textStyle, labelModel, axisModel.ecModel);\n    }\n\n    var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n    var tickCoord = axis.dataToCoord(tickValue);\n    var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'label_' + tickValue,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: silent,\n      z2: 10\n    });\n    graphic.setTextStyle(textEl.style, itemLabelModel, {\n      text: formattedLabel,\n      textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n      textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n      textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n      // index of axis.data. So tick should not be exposed to user\n      // in category axis.\n      // (2) Compatible with previous version, which always use formatted label as\n      // input. But in interval scale the formatted label is like '223,445', which\n      // maked user repalce ','. So we modify it to return original val but remain\n      // it as 'string' to avoid error in replacing.\n      axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n    }); // Pack data for mouse event\n\n    if (triggerEvent) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisLabel';\n      textEl.eventData.value = rawLabel;\n    } // FIXME\n\n\n    axisBuilder._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    labelEls.push(textEl);\n    axisBuilder.group.add(textEl);\n    textEl.decomposeTransform();\n  });\n  return labelEls;\n}\n\nvar _default = AxisBuilder;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar axisPointerModelHelper = require(\"../axisPointer/modelHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Base class of AxisView.\n */\nvar AxisView = echarts.extendComponentView({\n  type: 'axis',\n\n  /**\n   * @private\n   */\n  _axisPointer: null,\n\n  /**\n   * @protected\n   * @type {string}\n   */\n  axisPointerClass: null,\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    // FIXME\n    // This process should proformed after coordinate systems updated\n    // (axis scale updated), and should be performed each time update.\n    // So put it here temporarily, although it is not appropriate to\n    // put a model-writing procedure in `view`.\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\n    AxisView.superApply(this, 'render', arguments);\n    updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n  },\n\n  /**\n   * Action handler.\n   * @public\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} payload\n   */\n  updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n    updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    var axisPointer = this._axisPointer;\n    axisPointer && axisPointer.remove(api);\n    AxisView.superApply(this, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    disposeAxisPointer(this, api);\n    AxisView.superApply(this, 'dispose', arguments);\n  }\n});\n\nfunction updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n  var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n  if (!Clazz) {\n    return;\n  }\n\n  var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\n  axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n}\n\nfunction disposeAxisPointer(axisView, ecModel, api) {\n  var axisPointer = axisView._axisPointer;\n  axisPointer && axisPointer.dispose(ecModel, api);\n  axisView._axisPointer = null;\n}\n\nvar axisPointerClazz = [];\n\nAxisView.registerAxisPointerClass = function (type, clazz) {\n  axisPointerClazz[type] = clazz;\n};\n\nAxisView.getAxisPointerClass = function (type) {\n  return type && axisPointerClazz[type];\n};\n\nvar _default = AxisView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar _axisSplitHelper = require(\"./axisSplitHelper\");\n\nvar rectCoordAxisBuildSplitArea = _axisSplitHelper.rectCoordAxisBuildSplitArea;\nvar rectCoordAxisHandleRemove = _axisSplitHelper.rectCoordAxisHandleRemove;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\nvar CartesianAxisView = AxisView.extend({\n  type: 'cartesianAxis',\n  axisPointerClass: 'CartesianAxisPointer',\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var gridModel = axisModel.getCoordSysModel();\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get(name + '.show')) {\n        this['_' + name](axisModel, gridModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  remove: function () {\n    rectCoordAxisHandleRemove(this);\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      var tickValue = ticksCoords[i].tickValue;\n\n      this._axisGroup.add(new graphic.Line({\n        anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n        subPixelOptimize: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _minorSplitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n    var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var minorTicksCoords = axis.getMinorTicksCoords();\n\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n\n        this._axisGroup.add(new graphic.Line({\n          anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n          subPixelOptimize: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: lineStyle,\n          silent: true\n        }));\n      }\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitArea: function (axisModel, gridModel) {\n    rectCoordAxisBuildSplitArea(this, this._axisGroup, axisModel, gridModel);\n  }\n});\nCartesianAxisView.extend({\n  type: 'xAxis'\n});\nCartesianAxisView.extend({\n  type: 'yAxis'\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n  var axis = axisModel.axis;\n\n  if (axis.scale.isBlank()) {\n    return;\n  }\n\n  var splitAreaModel = axisModel.getModel('splitArea');\n  var areaStyleModel = splitAreaModel.getModel('areaStyle');\n  var areaColors = areaStyleModel.get('color');\n  var gridRect = gridModel.coordinateSystem.getRect();\n  var ticksCoords = axis.getTicksCoords({\n    tickModel: splitAreaModel,\n    clamp: true\n  });\n\n  if (!ticksCoords.length) {\n    return;\n  } // For Making appropriate splitArea animation, the color and anid\n  // should be corresponding to previous one if possible.\n\n\n  var areaColorsLen = areaColors.length;\n  var lastSplitAreaColors = axisView.__splitAreaColors;\n  var newSplitAreaColors = zrUtil.createHashMap();\n  var colorIndex = 0;\n\n  if (lastSplitAreaColors) {\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n      if (cIndex != null) {\n        colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n        break;\n      }\n    }\n  }\n\n  var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n  var areaStyle = areaStyleModel.getAreaStyle();\n  areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n\n  for (var i = 1; i < ticksCoords.length; i++) {\n    var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (axis.isHorizontal()) {\n      x = prev;\n      y = gridRect.y;\n      width = tickCoord - x;\n      height = gridRect.height;\n      prev = x + width;\n    } else {\n      x = gridRect.x;\n      y = prev;\n      width = gridRect.width;\n      height = tickCoord - y;\n      prev = y + height;\n    }\n\n    var tickValue = ticksCoords[i - 1].tickValue;\n    tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n    axisGroup.add(new graphic.Rect({\n      anid: tickValue != null ? 'area_' + tickValue : null,\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      },\n      style: zrUtil.defaults({\n        fill: areaColors[colorIndex]\n      }, areaStyle),\n      silent: true\n    }));\n    colorIndex = (colorIndex + 1) % areaColorsLen;\n  }\n\n  axisView.__splitAreaColors = newSplitAreaColors;\n}\n\nfunction rectCoordAxisHandleRemove(axisView) {\n  axisView.__splitAreaColors = null;\n}\n\nexports.rectCoordAxisBuildSplitArea = rectCoordAxisBuildSplitArea;\nexports.rectCoordAxisHandleRemove = rectCoordAxisHandleRemove;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisPointerModelHelper = require(\"./axisPointer/modelHelper\");\n\nvar axisTrigger = require(\"./axisPointer/axisTrigger\");\n\nrequire(\"./axisPointer/AxisPointerModel\");\n\nrequire(\"./axisPointer/AxisPointerView\");\n\nrequire(\"./axisPointer/CartesianAxisPointer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// CartesianAxisPointer is not supposed to be required here. But consider\n// echarts.simple.js and online build tooltip, which only require gridSimple,\n// CartesianAxisPointer should be able to required somewhere.\necharts.registerPreprocessor(function (option) {\n  // Always has a global axisPointerModel for default setting.\n  if (option) {\n    (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n    var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n    // is not set, remain null/undefined, otherwise it will\n    // override existent link setting.\n\n    if (link && !zrUtil.isArray(link)) {\n      option.axisPointer.link = [link];\n    }\n  }\n}); // This process should proformed after coordinate systems created\n// and series data processed. So put it on statistic processing stage.\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n  // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n  ecModel.getComponent('axisPointer').coordSysAxesInfo = axisPointerModelHelper.collect(ecModel, api);\n}); // Broadcast to all views.\n\necharts.registerAction({\n  type: 'updateAxisPointer',\n  event: 'updateAxisPointer',\n  update: ':updateAxisPointer'\n}, axisTrigger);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerModel = echarts.extendComponentModel({\n  type: 'axisPointer',\n  coordSysAxesInfo: null,\n  defaultOption: {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: null,\n    // set default in AxisPonterView.js\n    zlevel: 0,\n    z: 50,\n    type: 'line',\n    // 'line' 'shadow' 'cross' 'none'.\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    value: null,\n    status: null,\n    // Init value depends on whether handle is used.\n    // [group0, group1, ...]\n    // Each group can be: {\n    //      mapper: function () {},\n    //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n    //      xAxisId: ...,\n    //      yAxisName: ...,\n    //      angleAxisIndex: ...\n    // }\n    // mapper: can be ignored.\n    //      input: {axisInfo, value}\n    //      output: {axisInfo, value}\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      type: 'solid'\n    },\n    shadowStyle: {\n      color: 'rgba(150,150,150,0.3)'\n    },\n    label: {\n      show: true,\n      formatter: null,\n      // string | Function\n      precision: 'auto',\n      // Or a number like 0, 1, 2 ...\n      margin: 3,\n      color: '#fff',\n      padding: [5, 7, 5, 7],\n      backgroundColor: 'auto',\n      // default: axis line color\n      borderColor: null,\n      borderWidth: 0,\n      shadowBlur: 3,\n      shadowColor: '#aaa' // Considering applicability, common style should\n      // better not have shadowOffset.\n      // shadowOffsetX: 0,\n      // shadowOffsetY: 2\n\n    },\n    handle: {\n      show: false,\n\n      /* eslint-disable */\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      // jshint ignore:line\n\n      /* eslint-enable */\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: '#333',\n      shadowBlur: 3,\n      shadowColor: '#aaa',\n      shadowOffsetX: 0,\n      shadowOffsetY: 2,\n      // For mobile performance\n      throttle: 40\n    }\n  }\n});\nvar _default = AxisPointerModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar globalListener = require(\"./globalListener\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerView = echarts.extendComponentView({\n  type: 'axisPointer',\n  render: function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    globalListener.unregister(api.getZr(), 'axisPointer');\n    AxisPointerView.superApply(this._model, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n    AxisPointerView.superApply(this._model, 'dispose', arguments);\n  }\n});\nvar _default = AxisPointerView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazzUtil = require(\"../../util/clazz\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar axisPointerModelHelper = require(\"./modelHelper\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\n\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n\n  /**\n   * @private\n   */\n  _handle: null,\n\n  /**\n   * @private\n   */\n  _dragging: false,\n\n  /**\n   * @private\n   */\n  _lastValue: null,\n\n  /**\n   * @private\n   */\n  _lastStatus: null,\n\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  },\n\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  },\n\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  },\n\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  },\n\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CartesianAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  }\n});\n\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\n\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\n\nAxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\nvar _default = CartesianAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar modelHelper = require(\"./modelHelper\");\n\nvar findPointFromSeries = require(\"./findPointFromSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry;\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @param {Object} coordSysAxesInfo\n * @param {Object} payload\n * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n * @param {Object} [payload.dataIndex] finder, restrict target axes.\n * @param {Object} [payload.axesInfo] finder, restrict target axes.\n *        [{\n *          axisDim: 'x'|'y'|'angle'|...,\n *          axisIndex: ...,\n *          value: ...\n *        }, ...]\n * @param {Function} [payload.dispatchAction]\n * @param {Object} [payload.tooltipOption]\n * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n *        which can be specified in dispatchAction\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Object} content of event obj for echarts.connect.\n */\n\nfunction _default(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n  // See #6121. But we are not able to reproduce it yet.\n\n  if (!coordSysAxesInfo) {\n    return;\n  }\n\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n\n  var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputFinder = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  }; // Process for triggered axes.\n\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n      }\n    });\n  }); // Process for linked axes.\n\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n  });\n  updateModelActually(showValueMap, axesInfo, outputFinder);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputFinder;\n}\n\nfunction processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n  var axis = axisInfo.axis;\n\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  } // Heavy calculation. So put it after axis.containData checking.\n\n\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n  // By default use the first involved series data as a sample to connect.\n\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    zrUtil.extend(outputFinder, payloadBatch[0]);\n  } // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n\n\n  if (!dontSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n\n  updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\n\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimension(dim, true);\n    var seriesNestestValue;\n    var dataIndices;\n\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n\n      if (!dataIndices.length) {\n        return;\n      }\n\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff); // Consider category case\n\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\n\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\n\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\n\nfunction updateModelActually(showValueMap, axesInfo, outputFinder) {\n  var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value; // For label formatter param and highlight.\n\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    } // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n        // If hide, value still need to be set, consider\n        // click legend to toggle axis blank.\n        !axisInfo.useHandle && (option.status = 'hide');\n      } // If status is 'hide', should be no info in payload.\n\n\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\n\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  } // In most case only one axis (or event one series is used). It is\n  // convinient to fetch payload.seriesIndex and payload.dataIndex\n  // dirtectly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n\n\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\n\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification shoule be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  }); // Diff.\n\n  var toHighlight = [];\n  var toDownplay = [];\n  zrUtil.each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  zrUtil.each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    batch: toHighlight\n  });\n}\n\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\n\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\n\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} {point: [x, y], el: ...} point Will not be null.\n */\nfunction _default(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n      return data.mapDimension(dim);\n    }), dataIndex, true)) || [];\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n\n  return {\n    point: point,\n    el: el\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nfunction register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}\n\nexports.register = register;\nexports.unregister = unregister;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\n\nfunction collect(ecModel, api) {\n  var result = {\n    /**\n     * key: makeKey(axis.model)\n     * value: {\n     *      axis,\n     *      coordSys,\n     *      axisPointerModel,\n     *      triggerTooltip,\n     *      involveSeries,\n     *      snap,\n     *      seriesModels,\n     *      seriesDataCount\n     * }\n     */\n    axesInfo: {},\n    seriesInvolved: false,\n\n    /**\n     * key: makeKey(coordSys.model)\n     * value: Object: key makeKey(axis.model), value: axisInfo\n     */\n    coordSysAxesInfo: {},\n    coordSysMap: {}\n  };\n  collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\n  return result;\n}\n\nfunction collectAxesInfo(result, ecModel, api) {\n  var globalTooltipModel = ecModel.getComponent('tooltip');\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\n  var linkGroups = []; // Collect axes info.\n\n  each(api.getCoordinateSystems(), function (coordSys) {\n    // Some coordinate system do not support axes, like geo.\n    if (!coordSys.axisPointerEnabled) {\n      return;\n    }\n\n    var coordSysKey = makeKey(coordSys.model);\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n    result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n    // for user. So we enable seting tooltip on coordSys model.\n\n    var coordSysModel = coordSys.model;\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n    if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n    // show but axisPointer will show as normal.\n    && baseTooltipModel.get('show')) {\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n      var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n      if (triggerAxis || cross) {\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n      }\n\n      if (cross) {\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\n      }\n    } // fromTooltip: true | false | 'cross'\n    // triggerTooltip: true | false | null\n\n\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n      var axisPointerShow = axisPointerModel.get('show');\n\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n        return;\n      }\n\n      if (triggerTooltip == null) {\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\n      }\n\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n      var snap = axisPointerModel.get('snap');\n      var key = makeKey(axis.model);\n      var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n      var axisInfo = result.axesInfo[key] = {\n        key: key,\n        axis: axis,\n        coordSys: coordSys,\n        axisPointerModel: axisPointerModel,\n        triggerTooltip: triggerTooltip,\n        involveSeries: involveSeries,\n        snap: snap,\n        useHandle: isHandleTrigger(axisPointerModel),\n        seriesModels: []\n      };\n      axesInfoInCoordSys[key] = axisInfo;\n      result.seriesInvolved |= involveSeries;\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n      if (groupIndex != null) {\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n          axesInfo: {}\n        });\n        linkGroup.axesInfo[key] = axisInfo;\n        linkGroup.mapper = linksOption[groupIndex].mapper;\n        axisInfo.linkGroup = linkGroup;\n      }\n    }\n  });\n}\n\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n  var volatileOption = {};\n  each(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n    volatileOption[field] = zrUtil.clone(tooltipAxisPointerModel.get(field));\n  }); // category axis do not auto snap, otherwise some tick that do not\n  // has value can not be hovered. value/time/log axis default snap if\n  // triggered from tooltip and trigger tooltip.\n\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n  // Only these properties can be overrided from tooltip to axisPointer.\n\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\n    volatileOption.type = 'line';\n  }\n\n  var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n  labelOption.show == null && (labelOption.show = false);\n\n  if (fromTooltip === 'cross') {\n    // When 'cross', both axes show labels.\n    var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get('label.show');\n    labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\n    // (cross style is dashed by default)\n\n    if (!triggerTooltip) {\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n      crossStyle && zrUtil.defaults(labelOption, crossStyle.textStyle);\n    }\n  }\n\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\n}\n\nfunction collectSeriesInfo(result, ecModel) {\n  // Prepare data for axis trigger\n  ecModel.eachSeries(function (seriesModel) {\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n    var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n    if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n      return;\n    }\n\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n      var axis = axisInfo.axis;\n\n      if (coordSys.getAxis(axis.dim) === axis) {\n        axisInfo.seriesModels.push(seriesModel);\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n        axisInfo.seriesDataCount += seriesModel.getData().count();\n      }\n    });\n  }, this);\n}\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\n\n\nfunction getLinkGroupIndex(linksOption, axis) {\n  var axisModel = axis.model;\n  var dim = axis.dim;\n\n  for (var i = 0; i < linksOption.length; i++) {\n    var linkOption = linksOption[i] || {};\n\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n      return i;\n    }\n  }\n}\n\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n  return linkPropValue === 'all' || zrUtil.isArray(linkPropValue) && zrUtil.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n}\n\nfunction fixValue(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n\n  if (!axisInfo) {\n    return;\n  }\n\n  var axisPointerModel = axisInfo.axisPointerModel;\n  var scale = axisInfo.axis.scale;\n  var option = axisPointerModel.option;\n  var status = axisPointerModel.get('status');\n  var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n  if (value != null) {\n    value = scale.parse(value);\n  }\n\n  var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n  // and status should be initialized.\n\n  if (status == null) {\n    option.status = useHandle ? 'show' : 'hide';\n  }\n\n  var extent = scale.getExtent().slice();\n  extent[0] > extent[1] && extent.reverse();\n\n  if ( // Pick a value on axis when initializing.\n  value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n  // where we should re-pick a value to keep `handle` displaying normally.\n  || value > extent[1]) {\n    // Make handle displayed on the end of the axis when init, which looks better.\n    value = extent[1];\n  }\n\n  if (value < extent[0]) {\n    value = extent[0];\n  }\n\n  option.value = value;\n\n  if (useHandle) {\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n  }\n}\n\nfunction getAxisInfo(axisModel) {\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\n\nfunction getAxisPointerModel(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  return axisInfo && axisInfo.axisPointerModel;\n}\n\nfunction isHandleTrigger(axisPointerModel) {\n  return !!axisPointerModel.get('handle.show');\n}\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\n\n\nfunction makeKey(model) {\n  return model.type + '||' + model.id;\n}\n\nexports.collect = collect;\nexports.fixValue = fixValue;\nexports.getAxisInfo = getAxisInfo;\nexports.getAxisPointerModel = getAxisPointerModel;\nexports.makeKey = makeKey;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Model} axisPointerModel\n */\nfunction buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\n\n\nfunction buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get('label.precision'),\n    formatter: axisPointerModel.get('label.formatter')\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get('axisLine.lineStyle.color');\n  }\n\n  elOption.label = {\n    shape: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height,\n      r: labelModel.get('borderRadius')\n    },\n    position: position.slice(),\n    // TODO: rich\n    style: {\n      text: text,\n      textFont: font,\n      textFill: labelModel.getTextColor(),\n      textPosition: 'inside',\n      textPadding: paddings,\n      fill: bgColor,\n      stroke: labelModel.get('borderColor') || 'transparent',\n      lineWidth: labelModel.get('borderWidth') || 0,\n      shadowBlur: labelModel.get('shadowBlur'),\n      shadowColor: labelModel.get('shadowColor'),\n      shadowOffsetX: labelModel.get('shadowOffsetX'),\n      shadowOffsetY: labelModel.get('shadowOffsetY')\n    },\n    // Lable should be over axisPointer.\n    z2: 10\n  };\n} // Do not overflow ec container\n\n\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\n/**\n * @param {number} value\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} opt\n * @param {Array.<Object>} seriesDataIndices\n * @param {number|string} opt.precision 'auto' or a number\n * @param {string|Function} opt.formatter label formatter\n */\n\n\nfunction getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n  // helps to debounce when when moving label.\n  value, {\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n\n  if (formatter) {\n    var params = {\n      value: axisHelper.getAxisRawValue(axis, value),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params.seriesData.push(dataParams);\n    });\n\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params);\n    }\n  }\n\n  return text;\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @param {number} value\n * @param {Object} layoutInfo {\n *  rotation, position, labelOffset, labelDirection, labelMargin\n * }\n */\n\n\nfunction getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\n\nfunction buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\n/**\n * @param {Array.<number>} p1\n * @param {Array.<number>} p2\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\n/**\n * @param {Array.<number>} xy\n * @param {Array.<number>} wh\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\n\nfunction makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}\n\nexports.buildElStyle = buildElStyle;\nexports.buildLabelElOption = buildLabelElOption;\nexports.getValueLabel = getValueLabel;\nexports.getTransformedPosition = getTransformedPosition;\nexports.buildCartesianSingleLabelElOption = buildCartesianSingleLabelElOption;\nexports.makeLineShape = makeLineShape;\nexports.makeRectShape = makeRectShape;\nexports.makeSectorShape = makeSectorShape;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../util/graphic\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid view\necharts.extendComponentView({\n  type: 'grid',\n  render: function (gridModel, ecModel) {\n    this.group.removeAll();\n\n    if (gridModel.get('show')) {\n      this.group.add(new graphic.Rect({\n        shape: gridModel.coordinateSystem.getRect(),\n        style: zrUtil.defaults({\n          fill: gridModel.get('backgroundColor')\n        }, gridModel.getItemStyle()),\n        silent: true,\n        z2: -1\n      }));\n    }\n  }\n});\necharts.registerPreprocessor(function (option) {\n  // Only create grid when need\n  if (option.xAxis && option.yAxis && !option.grid) {\n    option.grid = {};\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\nvar layoutBox = _layout.box;\nvar positionElement = _layout.positionElement;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nfunction layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\n\nfunction makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  var rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}\n\nexports.layout = layout;\nexports.makeBackground = makeBackground;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./legend/LegendModel\");\n\nrequire(\"./legend/legendAction\");\n\nrequire(\"./legend/LegendView\");\n\nvar legendFilter = require(\"./legend/legendFilter\");\n\nvar Component = require(\"../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Do not contain scrollable legend, for sake of file size.\n// Series Filter\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\nComponent.registerSubTypeDefaulter('legend', function () {\n  // Default 'plain' when no type specified.\n  return 'plain';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _model = require(\"../../util/model\");\n\nvar isNameSpecified = _model.isNameSpecified;\n\nvar lang = require(\"../../lang\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar langSelector = lang.legend.selector;\nvar defaultSelectorOption = {\n  all: {\n    type: 'all',\n    title: zrUtil.clone(langSelector.all)\n  },\n  inverse: {\n    type: 'inverse',\n    title: zrUtil.clone(langSelector.inverse)\n  }\n};\nvar LegendModel = echarts.extendComponentModel({\n  type: 'legend.plain',\n  dependencies: ['series'],\n  layoutMode: {\n    type: 'box',\n    // legend.width/height are maxWidth/maxHeight actually,\n    // whereas realy width/height is calculated by its content.\n    // (Setting {left: 10, right: 10} does not make sense).\n    // So consider the case:\n    // `setOption({legend: {left: 10});`\n    // then `setOption({legend: {right: 10});`\n    // The previous `left` should be cleared by setting `ignoreSize`.\n    ignoreSize: true\n  },\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  },\n  mergeOption: function (option) {\n    LegendModel.superCall(this, 'mergeOption', option);\n\n    this._updateSelector(option);\n  },\n  _updateSelector: function (option) {\n    var selector = option.selector;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, defaultSelectorOption[item.type]);\n      });\n    }\n  },\n  optionUpdated: function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name = legendData[i].get('name');\n\n        if (this.isSelected(name)) {\n          // Force to unselect others\n          this.select(name);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  },\n  _updateData: function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Model>}\n   */\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @param {string} name\n   */\n  select: function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  },\n\n  /**\n   * @param {string} name\n   */\n  unSelect: function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  },\n\n  /**\n   * @param {string} name\n   */\n  toggleSelected: function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  },\n  allSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  },\n  inverseSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  },\n\n  /**\n   * @param {string} name\n   */\n  isSelected: function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  },\n  getOrient: function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 4,\n    show: true,\n    // \n    // 'horizontal' | 'vertical'\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    // \n    // 'auto' | 'left' | 'right'\n    //  'auto',  x \n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    borderRadius: 0,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // itempx10\n    // \n    itemGap: 10,\n    // the width of legend symbol\n    itemWidth: 25,\n    // the height of legend symbol\n    itemHeight: 14,\n    // the color of unselected legend symbol\n    inactiveColor: '#ccc',\n    // the borderColor of unselected legend symbol\n    inactiveBorderColor: '#ccc',\n    itemStyle: {\n      // the default borderWidth of legend symbol\n      borderWidth: 0\n    },\n    textStyle: {\n      // \n      color: '#333'\n    },\n    // formatter: '',\n    // \n    selectedMode: true,\n    // LEGEND.SELECTED\n    // selected: null,\n    // legend.dataitem\n    // data: [],\n    // Usage:\n    // selector: [{type: 'all or inverse', title: xxx}]\n    // or\n    // selector: true\n    // or\n    // selector: ['all', 'inverse']\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    // Value can be 'start' or 'end'\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    // Tooltip \n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = LegendModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _listComponent = require(\"../helper/listComponent\");\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = require(\"../../util/layout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function () {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._selectorGroup = new Group());\n    /**\n     * If first rendering, `contentGroup.position` is [0, 0], which\n     * does not make sense and may cause unexepcted animation if adopted.\n     * @private\n     * @type {boolean}\n     */\n\n    this._isFirstRender = true;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function () {\n    return this._contentGroup;\n  },\n\n  /**\n   * @protected\n   */\n  getSelectorGroup: function () {\n    return this._selectorGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color');\n        var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // If borderColor is a callback function\n\n\n        if (typeof borderColor === 'function') {\n          // Use the first data\n          borderColor = borderColor(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var color = provider.getItemVisual(idx, 'color');\n            var borderColor = provider.getItemVisual(idx, 'borderColor');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  },\n  _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function (selectorItem) {\n      createSelectorButton(selectorItem);\n    });\n\n    function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n      graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n        defaultText: selectorItem.title,\n        isRectText: false\n      });\n      graphic.setHoverStyle(labelText);\n    }\n  },\n  _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n    var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n    var legendModelItemStyle = legendModel.getModel('itemStyle');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    var legendSymbol = createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n    symbolKeepAspect == null ? true : symbolKeepAspect);\n    itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType === 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      }\n\n      var legendSymbolCenter = createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n      itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.attr('position', selectorPos);\n      contentGroup.attr('position', contentPos);\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.attr('position', contentPos);\n      return this.group.getBoundingRect();\n    }\n  },\n\n  /**\n   * @protected\n   */\n  remove: function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  }\n});\n\nfunction setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n  var itemStyle;\n\n  if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n    itemStyle = legendModelItemStyle.getItemStyle();\n    symbol.style.stroke = borderColor;\n\n    if (!isSelected) {\n      itemStyle.stroke = inactiveBorderColor;\n    }\n  } else {\n    itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n  }\n\n  return symbol.setStyle(itemStyle);\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    zrUtil.each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n/**\n * @event legendToggleSelect\n * @type {Object}\n * @property {string} type 'legendToggleSelect'\n * @property {string} [from]\n * @property {string} name Series name or data item name\n */\n\n\necharts.registerAction('legendToggleSelect', 'legendselectchanged', zrUtil.curry(legendSelectActionHandler, 'toggleSelected'));\necharts.registerAction('legendAllSelect', 'legendselectall', zrUtil.curry(legendSelectActionHandler, 'allSelect'));\necharts.registerAction('legendInverseSelect', 'legendinverseselect', zrUtil.curry(legendSelectActionHandler, 'inverseSelect'));\n/**\n * @event legendSelect\n * @type {Object}\n * @property {string} type 'legendSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendSelect', 'legendselected', zrUtil.curry(legendSelectActionHandler, 'select'));\n/**\n * @event legendUnSelect\n * @type {Object}\n * @property {string} type 'legendUnSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendUnSelect', 'legendunselected', zrUtil.curry(legendSelectActionHandler, 'unSelect'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar echarts = require(\"../echarts\");\n\nvar graphic = require(\"../util/graphic\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _format = require(\"../util/format\");\n\nvar windowOpen = _format.windowOpen;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Model\necharts.extendComponentModel({\n  type: 'title',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  defaultOption: {\n    // \n    zlevel: 0,\n    // \n    z: 6,\n    show: true,\n    text: '',\n    // \n    // link: null,\n    // self | blank\n    target: 'blank',\n    subtext: '',\n    // \n    // sublink: null,\n    // self | blank\n    subtarget: 'blank',\n    // 'center'  'left'  'right'\n    //  {number}xpx\n    left: 0,\n    // 'top'  'bottom'  'center'\n    //  {number}ypx\n    top: 0,\n    // \n    // 'auto' | 'left' | 'right' | 'center'\n    //  left \n    // textAlign: null\n    //\n    // \n    // 'auto' | 'top' | 'bottom' | 'middle'\n    //  top \n    // textVerticalAlign: null\n    // textBaseline: null // The same as textVerticalAlign.\n    backgroundColor: 'rgba(0,0,0,0)',\n    // \n    borderColor: '#ccc',\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // px10\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bolder',\n      color: '#333'\n    },\n    subtextStyle: {\n      color: '#aaa'\n    }\n  }\n}); // View\n\necharts.extendComponentView({\n  type: 'title',\n  render: function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textVerticalAlign = zrUtil.retrieve2(titleModel.get('textBaseline'), titleModel.get('textVerticalAlign'));\n    var textEl = new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: titleModel.get('text'),\n        textFill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: graphic.setTextStyle({}, subtextStyleModel, {\n        text: subText,\n        textFill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        textVerticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    var triggerEvent = titleModel.get('triggerEvent', true);\n    textEl.silent = !link && !triggerEvent;\n    subTextEl.silent = !sublink && !triggerEvent;\n\n    if (link) {\n      textEl.on('click', function () {\n        windowOpen(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        windowOpen(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    textEl.eventData = subTextEl.eventData = triggerEvent ? {\n      componentType: 'title',\n      componentIndex: titleModel.componentIndex\n    } : null;\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textVerticalAlign) {\n      textVerticalAlign = titleModel.get('top') || titleModel.get('bottom');\n\n      if (textVerticalAlign === 'center') {\n        textVerticalAlign = 'middle';\n      }\n\n      if (textVerticalAlign === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textVerticalAlign === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textVerticalAlign = textVerticalAlign || 'top';\n    }\n\n    group.attr('position', [layoutRect.x, layoutRect.y]);\n    var alignStyle = {\n      textAlign: textAlign,\n      textVerticalAlign: textVerticalAlign\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      subPixelOptimize: true,\n      silent: true\n    });\n    group.add(rect);\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./tooltip/TooltipModel\");\n\nrequire(\"./tooltip/TooltipView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Better way to pack data in graphic element\n\n/**\n * @action\n * @property {string} type\n * @property {number} seriesIndex\n * @property {number} dataIndex\n * @property {number} [x]\n * @property {number} [y]\n */\necharts.registerAction({\n  type: 'showTip',\n  event: 'showTip',\n  update: 'tooltip:manuallyShowTip'\n}, // noop\nfunction () {});\necharts.registerAction({\n  type: 'hideTip',\n  event: 'hideTip',\n  update: 'tooltip:manuallyHideTip'\n}, // noop\nfunction () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar eventUtil = require(\"zrender/lib/core/event\");\n\nvar domUtil = require(\"zrender/lib/core/dom\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar toCamelCase = formatUtil.toCamelCase;\nvar vendors = ['', '-webkit-', '-moz-', '-o-'];\nvar gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n/**\n * @param {number} duration\n * @return {string}\n * @inner\n */\n\nfunction assembleTransition(duration) {\n  var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n  var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n  return zrUtil.map(vendors, function (vendorPrefix) {\n    return vendorPrefix + 'transition:' + transitionText;\n  }).join(';');\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  var lineHeight = textStyleModel.get('lineHeight');\n\n  if (lineHeight == null) {\n    lineHeight = Math.round(fontSize * 3 / 2);\n  }\n\n  fontSize && cssText.push('line-height:' + lineHeight + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n/**\n * @param {Object} tooltipModel\n * @return {string}\n * @inner\n */\n\n\nfunction assembleCssText(tooltipModel) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n  transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n  if (backgroundColor) {\n    if (env.canvasSupported) {\n      cssText.push('background-Color:' + backgroundColor);\n    } else {\n      // for ie\n      cssText.push('background-Color:#' + zrColor.toHex(backgroundColor));\n      cssText.push('filter:alpha(opacity=70)');\n    }\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + formatUtil.normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n} // If not able to make, do not modify the input `out`.\n\n\nfunction makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n\n  if (appendToBody) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      domUtil.transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n\n  out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n  out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipContent\n * @param {HTMLElement} container\n * @param {ExtensionAPI} api\n * @param {Object} [opt]\n * @param {boolean} [opt.appendToBody]\n *        `false`: the DOM element will be inside the container. Default value.\n *        `true`: the DOM element will be appended to HTML body, which avoid\n *                some overflow clip but intrude outside of the container.\n * @constructor\n */\n\n\nfunction TooltipContent(container, api, opt) {\n  if (env.wxa) {\n    return null;\n  }\n\n  var el = document.createElement('div');\n  el.domBelongToZr = true;\n  this.el = el;\n  var zr = this._zr = api.getZr();\n  var appendToBody = this._appendToBody = opt && opt.appendToBody;\n  this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n  makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n  if (appendToBody) {\n    document.body.appendChild(el);\n  } else {\n    container.appendChild(el);\n  }\n\n  this._container = container;\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout; // FIXME\n  // Is it needed to trigger zr event manually if\n  // the browser do not support `pointer-events: none`.\n\n  var self = this;\n\n  el.onmouseenter = function () {\n    // clear the timeout in hideLater and keep showing tooltip\n    if (self._enterable) {\n      clearTimeout(self._hideTimeout);\n      self._show = true;\n    }\n\n    self._inContent = true;\n  };\n\n  el.onmousemove = function (e) {\n    e = e || window.event;\n\n    if (!self._enterable) {\n      // `pointer-events: none` is set to tooltip content div\n      // if `enterable` is set as `false`, and `el.onmousemove`\n      // can not be triggered. But in browser that do not\n      // support `pointer-events`, we need to do this:\n      // Try trigger zrender event to avoid mouse\n      // in and out shape too frequently\n      var handler = zr.handler;\n      var zrViewportRoot = zr.painter.getViewportRoot();\n      eventUtil.normalizeEvent(zrViewportRoot, e, true);\n      handler.dispatch('mousemove', e);\n    }\n  };\n\n  el.onmouseleave = function () {\n    if (self._enterable) {\n      if (self._show) {\n        self.hideLater(self._hideDelay);\n      }\n    }\n\n    self._inContent = false;\n  };\n}\n\nTooltipContent.prototype = {\n  constructor: TooltipContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    var container = this._container;\n    var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n    var domStyle = container.style;\n\n    if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n      domStyle.position = 'relative';\n    }\n\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveTooltipIfResized(); // Hide the tooltip\n    // PENDING\n    // this.hide();\n  },\n\n  /**\n   * when `alwaysShowContent` is true,\n   * we should move the tooltip after chart resized\n   */\n  _moveTooltipIfResized: function () {\n    var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n    var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n    var realX = ratioX * this._zr.getWidth();\n\n    var realY = ratioY * this._zr.getHeight();\n\n    this.moveTo(realX, realY);\n  },\n  show: function (tooltipModel) {\n    clearTimeout(this._hideTimeout);\n    var el = this.el;\n    var styleCoord = this._styleCoord;\n    el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n    // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n    // we should set initial value to `left` and `top`.\n    + ';left:' + styleCoord[0] + 'px;top:' + styleCoord[1] + 'px;' + (tooltipModel.get('extraCssText') || '');\n    el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occasionally move over the tooltip, a mouseout event will be\n    // triggered by canvas, and cause some unexpectable result like dragging\n    // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n    // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n    // scenario.\n\n    el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n    this._show = true;\n  },\n  setContent: function (content) {\n    this.el.innerHTML = content == null ? '' : content;\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var el = this.el;\n    return [el.clientWidth, el.clientHeight];\n  },\n  moveTo: function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n    var style = this.el.style;\n    style.left = styleCoord[0] + 'px';\n    style.top = styleCoord[1] + 'px';\n  },\n  hide: function () {\n    this.el.style.display = 'none';\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  dispose: function () {\n    this.el.parentNode.removeChild(this.el);\n  },\n  getOuterSize: function () {\n    var width = this.el.clientWidth;\n    var height = this.el.clientHeight; // Consider browser compatibility.\n    // IE8 does not support getComputedStyle.\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      var stl = document.defaultView.getComputedStyle(this.el);\n\n      if (stl) {\n        width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n        height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n      }\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n};\nvar _default = TooltipContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentModel({\n  type: 'tooltip',\n  dependencies: ['axisPointer'],\n  defaultOption: {\n    zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    // 'single' | 'multipleByCoordSys'\n    renderMode: 'auto',\n    // 'auto' | 'html' | 'richText'\n    // 'auto': use html by default, and use non-html if `document` is not defined\n    // 'html': use html for tooltip\n    // 'richText': use canvas, svg, and etc. for tooltip\n    //  {Array} | {Function}\n    // position: null\n    // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n    // align: null,\n    // verticalAlign: null,\n    //  content  viewRect  false \n    confine: false,\n    // {string}Template  {Function}\n    // formatter: null\n    showDelay: 0,\n    // ms\n    hideDelay: 100,\n    // s\n    transitionDuration: 0.4,\n    enterable: false,\n    // 0.7\n    backgroundColor: 'rgba(50,50,50,0.7)',\n    // \n    borderColor: '#333',\n    // px4\n    borderRadius: 4,\n    // px0\n    borderWidth: 0,\n    // px5\n    // css\n    padding: 5,\n    // Extra css text\n    extraCssText: '',\n    // \n    axisPointer: {\n      // \n      // 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // type  line  tooltip line \n      //  'x' | 'y' | 'angle' | 'radius' | 'auto'\n      //  'auto' category  x \n      //  angle \n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {} // lineStyle and shadowStyle should not be specified here,\n        // otherwise it will always override those styles on option.axisPointer.\n\n      }\n    },\n    textStyle: {\n      color: '#fff',\n      fontSize: 14\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Text = require(\"zrender/lib/graphic/Text\");\n\nvar graphicUtil = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import Group from 'zrender/src/container/Group';\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth(); // The ratio of left to width\n\n  out[3] = out[1] / zr.getHeight(); // The ratio of top to height\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipRichContent\n * @constructor\n */\n\n\nfunction TooltipRichContent(api) {\n  var zr = this._zr = api.getZr();\n  this._styleCoord = [0, 0, 0, 0]; // [left, top, left/width, top/height]\n\n  makeStyleCoord(this._styleCoord, zr, api.getWidth() / 2, api.getHeight() / 2);\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout;\n}\n\nTooltipRichContent.prototype = {\n  constructor: TooltipRichContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveTooltipIfResized();\n  },\n\n  /**\n   * when `alwaysShowContent` is true,\n   * we should move the tooltip after chart resized\n   */\n  _moveTooltipIfResized: function () {\n    var ratioX = this._styleCoord[2]; // The ratio of left to width\n\n    var ratioY = this._styleCoord[3]; // The ratio of top to height\n\n    var realX = ratioX * this._zr.getWidth();\n\n    var realY = ratioY * this._zr.getHeight();\n\n    this.moveTo(realX, realY);\n  },\n  show: function (tooltipModel) {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.attr('show', true);\n    this._show = true;\n  },\n\n  /**\n   * Set tooltip content\n   *\n   * @param {string} content rich text string of content\n   * @param {Object} markerRich rich text style\n   * @param {Object} tooltipModel tooltip model\n   */\n  setContent: function (content, markerRich, tooltipModel) {\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var markers = {};\n    var text = content;\n    var prefix = '{marker';\n    var suffix = '|}';\n    var startId = text.indexOf(prefix);\n\n    while (startId >= 0) {\n      var endId = text.indexOf(suffix);\n      var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n      if (name.indexOf('sub') > -1) {\n        markers['marker' + name] = {\n          textWidth: 4,\n          textHeight: 4,\n          textBorderRadius: 2,\n          textBackgroundColor: markerRich[name],\n          // TODO: textOffset is not implemented for rich text\n          textOffset: [3, 0]\n        };\n      } else {\n        markers['marker' + name] = {\n          textWidth: 10,\n          textHeight: 10,\n          textBorderRadius: 5,\n          textBackgroundColor: markerRich[name]\n        };\n      }\n\n      text = text.substr(endId + 1);\n      startId = text.indexOf('{marker');\n    }\n\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    var fontSize = textStyleModel.get('fontSize');\n    var lineHeight = tooltipModel.get('textLineHeight');\n\n    if (lineHeight == null) {\n      lineHeight = Math.round(fontSize * 3 / 2);\n    }\n\n    this.el = new Text({\n      style: graphicUtil.setTextStyle({}, textStyleModel, {\n        rich: markers,\n        text: content,\n        textBackgroundColor: tooltipModel.get('backgroundColor'),\n        textBorderRadius: tooltipModel.get('borderRadius'),\n        textFill: tooltipModel.get('textStyle.color'),\n        textPadding: tooltipModel.get('padding'),\n        textLineHeight: lineHeight\n      }),\n      z: tooltipModel.get('z')\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var bounding = this.el.getBoundingRect();\n    return [bounding.width, bounding.height];\n  },\n  moveTo: function (x, y) {\n    if (this.el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      this.el.attr('position', [styleCoord[0], styleCoord[1]]);\n    }\n  },\n  hide: function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  dispose: function () {\n    clearTimeout(this._hideTimeout);\n\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n  },\n  getOuterSize: function () {\n    var size = this.getSize();\n    return {\n      width: size[0],\n      height: size[1]\n    };\n  }\n};\nvar _default = TooltipRichContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar TooltipContent = require(\"./TooltipContent\");\n\nvar TooltipRichContent = require(\"./TooltipRichContent\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar findPointFromSeries = require(\"../axisPointer/findPointFromSeries\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar Model = require(\"../../model/Model\");\n\nvar globalListener = require(\"../axisPointer/globalListener\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar axisPointerViewHelper = require(\"../axisPointer/viewHelper\");\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar parsePercent = numberUtil.parsePercent;\nvar proxyRect = new graphic.Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\n\nvar _default = echarts.extendComponentView({\n  type: 'tooltip',\n  init: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = tooltipModel.get('renderMode');\n    this._renderMode = getTooltipRenderMode(renderMode);\n    var tooltipContent;\n\n    if (this._renderMode === 'html') {\n      tooltipContent = new TooltipContent(api.getDom(), api, {\n        appendToBody: tooltipModel.get('appendToBody', true)\n      });\n      this._newLine = '<br/>';\n    } else {\n      tooltipContent = new TooltipRichContent(api);\n      this._newLine = '\\n';\n    }\n\n    this._tooltipContent = tooltipContent;\n  },\n  render: function (tooltipModel, ecModel, api) {\n    if (env.node) {\n      return;\n    } // Reset\n\n\n    this.group.removeAll();\n    /**\n     * @private\n     * @type {module:echarts/component/tooltip/TooltipModel}\n     */\n\n    this._tooltipModel = tooltipModel;\n    /**\n     * @private\n     * @type {module:echarts/model/Global}\n     */\n\n    this._ecModel = ecModel;\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this._api = api;\n    /**\n     * Should be cleaned when render.\n     * @private\n     * @type {Array.<Array.<Object>>}\n     */\n\n    this._lastDataByCoordSys = null;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update(tooltipModel);\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n    this._initGlobalListener();\n\n    this._keepShow();\n  },\n  _initGlobalListener: function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  },\n  _keepShow: function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api; // Try to keep the tooltip show when refreshing\n\n    if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && tooltipModel.get('triggerOn') !== 'none') {\n      var self = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self._lastX,\n          y: self._lastY\n        });\n      });\n    }\n  },\n\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node) {\n      return;\n    }\n\n    var dispatchAction = makeDispatchAction(payload, api); // Reset ticket\n\n    this._ticket = ''; // When triggered from axisPointer.\n\n    var dataByCoordSys = payload.dataByCoordSys;\n\n    if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.position = [payload.x, payload.y];\n      el.update();\n      el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: payload.dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          position: payload.position,\n          target: pointInfo.el\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  },\n  manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n\n    if (!this._alwaysShowContent && this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n\n    this._lastX = this._lastY = null;\n\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  },\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (!seriesModel) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n    if (tooltipModel.get('trigger') !== 'axis') {\n      return;\n    }\n\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  },\n  _tryShow: function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n\n    if (!tooltipModel) {\n      return;\n    } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } // Always show item tooltip if mouse is on the element with dataIndex\n    else if (el && el.dataIndex != null) {\n        this._lastDataByCoordSys = null;\n\n        this._showSeriesItemTooltip(e, el, dispatchAction);\n      } // Tooltip provided directly. Like legend.\n      else if (el && el.tooltip) {\n          this._lastDataByCoordSys = null;\n\n          this._showComponentItemTooltip(e, el, dispatchAction);\n        } else {\n          this._lastDataByCoordSys = null;\n\n          this._hide(dispatchAction);\n        }\n  },\n  _showOrMove: function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easier to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = zrUtil.bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  },\n  _showAxisTooltip: function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleDefaultHTML = [];\n    var singleParamsList = [];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n    var renderMode = this._renderMode;\n    var newLine = this._newLine;\n    var markers = {};\n    each(dataByCoordSys, function (itemCoordSys) {\n      // var coordParamList = [];\n      // var coordDefaultHTML = [];\n      // var coordTooltipModel = buildTooltipModel([\n      //     e.tooltipOption,\n      //     itemCoordSys.tooltipOption,\n      //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n      //     globalTooltipModel\n      // ]);\n      // var displayMode = coordTooltipModel.get('displayMode');\n      // var paramsList = displayMode === 'single' ? singleParamsList : [];\n      each(itemCoordSys.dataByAxis, function (item) {\n        var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n        var axisValue = item.value;\n        var seriesDefaultHTML = [];\n\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n\n        var valueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n        zrUtil.each(item.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var dataParams = series && series.getDataParams(dataIndex);\n          dataParams.axisDim = item.axisDim;\n          dataParams.axisIndex = item.axisIndex;\n          dataParams.axisType = item.axisType;\n          dataParams.axisId = item.axisId;\n          dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n          dataParams.axisValueLabel = valueLabel;\n\n          if (dataParams) {\n            singleParamsList.push(dataParams);\n            var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n            var html;\n\n            if (zrUtil.isObject(seriesTooltip)) {\n              html = seriesTooltip.html;\n              var newMarkers = seriesTooltip.markers;\n              zrUtil.merge(markers, newMarkers);\n            } else {\n              html = seriesTooltip;\n            }\n\n            seriesDefaultHTML.push(html);\n          }\n        }); // Default tooltip content\n        // FIXME\n        // (1) should be the first data which has name?\n        // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n        var firstLine = valueLabel;\n\n        if (renderMode !== 'html') {\n          singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n        } else {\n          singleDefaultHTML.push((firstLine ? formatUtil.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n        }\n      });\n    }, this); // In most case, the second axis is shown upper than the first one.\n\n    singleDefaultHTML.reverse();\n    singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n    var positionExpr = e.position;\n\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n      }\n    }); // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n\n  },\n  _showSeriesItemTooltip: function (e, el, dispatchAction) {\n    var ecModel = this._ecModel; // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n\n    var seriesIndex = el.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n    var dataModel = el.dataModel || seriesModel;\n    var dataIndex = el.dataIndex;\n    var dataType = el.dataType;\n    var data = dataModel.getData(dataType);\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n    var tooltipTrigger = tooltipModel.get('trigger');\n\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n    var defaultHtml;\n    var markers;\n\n    if (zrUtil.isObject(seriesTooltip)) {\n      defaultHtml = seriesTooltip.html;\n      markers = seriesTooltip.markers;\n    } else {\n      defaultHtml = seriesTooltip;\n      markers = null;\n    }\n\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n    }); // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  },\n  _showComponentItemTooltip: function (e, el, dispatchAction) {\n    var tooltipOpt = el.tooltip;\n\n    if (typeof tooltipOpt === 'string') {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n\n    var subTooltipModel = new Model(tooltipOpt, this._tooltipModel, this._ecModel);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on coordinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n\n    this._showOrMove(subTooltipModel, function () {\n      this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n    }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  },\n  _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n    // Reset ticket\n    this._ticket = '';\n\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n\n    var tooltipContent = this._tooltipContent;\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n\n    if (formatter && typeof formatter === 'string') {\n      html = formatUtil.formatTpl(formatter, params, true);\n    } else if (typeof formatter === 'function') {\n      var callback = bind(function (cbTicket, html) {\n        if (cbTicket === this._ticket) {\n          tooltipContent.setContent(html, markers, tooltipModel);\n\n          this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n        }\n      }, this);\n      this._ticket = asyncTicket;\n      html = formatter(params, asyncTicket, callback);\n    }\n\n    tooltipContent.setContent(html, markers, tooltipModel);\n    tooltipContent.show(tooltipModel);\n\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  },\n\n  /**\n   * @param  {string|Function|Array.<number>|Object} positionExpr\n   * @param  {number} x Mouse x\n   * @param  {number} y Mouse y\n   * @param  {boolean} confine Whether confine tooltip content in view rect.\n   * @param  {Object|<Array.<Object>} params\n   * @param  {module:zrender/Element} el target element\n   * @param  {module:echarts/ExtensionAPI} api\n   * @return {Array.<number>}\n   */\n  _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n    var viewWidth = this._api.getWidth();\n\n    var viewHeight = this._api.getHeight();\n\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n\n    if (typeof positionExpr === 'function') {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n\n    if (zrUtil.isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (zrUtil.isObject(positionExpr)) {\n      positionExpr.width = contentSize[0];\n      positionExpr.height = contentSize[1];\n      var layoutRect = layoutUtil.getLayoutRect(positionExpr, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null; // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n\n      vAlign = null;\n    } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (typeof positionExpr === 'string' && el) {\n        var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n        x = pos[0];\n        y = pos[1];\n      } else {\n        var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n        x = pos[0];\n        y = pos[1];\n      }\n\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n    if (tooltipModel.get('confine')) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n\n    content.moveTo(x, y);\n  },\n  // FIXME\n  // Should we remove this but leave this to user?\n  _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    return !!contentNotChanged;\n  },\n  _hide: function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  },\n  dispose: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    this._tooltipContent.dispose();\n\n    globalListener.unregister('itemTooltip', api);\n  }\n});\n/**\n * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n * From top to bottom. (the last one should be globalTooltipModel);\n */\n\n\nfunction buildTooltipModel(modelCascade) {\n  var resultModel = modelCascade.pop();\n\n  while (modelCascade.length) {\n    var tooltipOpt = modelCascade.pop();\n\n    if (tooltipOpt) {\n      if (Model.isInstance(tooltipOpt)) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      } // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n\n\n      if (typeof tooltipOpt === 'string') {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n\n      resultModel = new Model(tooltipOpt, resultModel, resultModel.ecModel);\n    }\n  }\n\n  return resultModel;\n}\n\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n\n  if (gapH != null) {\n    if (x + width + gapH > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n\n  return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\n\nfunction calcTooltipPosition(position, rect, contentSize) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var gap = 5;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - gap;\n      break;\n\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + gap;\n      break;\n\n    case 'left':\n      x = rect.x - domWidth - gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'right':\n      x = rect.x + rectWidth + gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n\n  return [x, y];\n}\n\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar defaultOption = {\n  show: true,\n  zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By default auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#333',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#ccc'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n    }\n  }\n};\nvar axisDefault = {};\naxisDefault.categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  // Only usefull in the case like: category is\n  // ['2012-01-01', '2012-01-02', ...], where the input\n  // data has been ensured not duplicate and is large data.\n  // null means \"auto\":\n  // if axis.data provided, do not deduplication,\n  // else do deduplication.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\naxisDefault.valueAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n  // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n  boundaryGap: [0, 0],\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  // Min value of the axis. can be:\n  // + a number\n  // + 'dataMin': use the min value in data.\n  // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n  // min: null,\n  // Max value of the axis. can be:\n  // + a number\n  // + 'dataMax': use the max value in data.\n  // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n  // max: null,\n  // Readonly prop, specifies start value of the range when using data zoom.\n  // rangeStart: null\n  // Readonly prop, specifies end value of the range when using data zoom.\n  // rangeEnd: null\n  // Optional value can be:\n  // + `false`: always include value 0.\n  // + `true`: the extent do not consider value 0.\n  // scale: false,\n  // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n  splitNumber: 5,\n  // Interval specifies the span of the ticks is mandatorily.\n  // interval: null\n  // Specify min interval when auto calculate tick interval.\n  // minInterval: null\n  // Specify max interval when auto calculate tick interval.\n  // maxInterval: null\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Lenght of minor tick\n    length: 3,\n    // Same inside with axisTick\n    // Line style\n    lineStyle: {// Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: '#eee',\n      width: 1\n    }\n  }\n}, defaultOption);\naxisDefault.timeAxis = zrUtil.defaults({\n  scale: true,\n  min: 'dataMin',\n  max: 'dataMax'\n}, axisDefault.valueAxis);\naxisDefault.logAxis = zrUtil.defaults({\n  scale: true,\n  logBase: 10\n}, axisDefault.valueAxis);\nvar _default = axisDefault;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisDefault = require(\"./axisDefault\");\n\nvar ComponentModel = require(\"../model/Component\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n\nvar OrdinalMeta = require(\"../data/OrdinalMeta\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME axisType is fixed ?\nvar AXIS_TYPES = ['value', 'category', 'time', 'log'];\n/**\n * Generate sub axis model class\n * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n * @param {module:echarts/model/Component} BaseAxisModelClass\n * @param {Function} axisTypeDefaulter\n * @param {Object} [extraDefaultOption]\n */\n\nfunction _default(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n  zrUtil.each(AXIS_TYPES, function (axisType) {\n    BaseAxisModelClass.extend({\n      /**\n       * @readOnly\n       */\n      type: axisName + 'Axis.' + axisType,\n      mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        zrUtil.merge(option, themeModel.get(axisType + 'Axis'));\n        zrUtil.merge(option, this.getDefaultOption());\n        option.type = axisTypeDefaulter(axisName, option);\n\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      },\n\n      /**\n       * @override\n       */\n      optionUpdated: function () {\n        var thisOption = this.option;\n\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      },\n\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n      getCategories: function (rawData) {\n        var option = this.option; // FIXME\n        // warning if called before all of 'getInitailData' finished.\n\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n\n          return this.__ordinalMeta.categories;\n        }\n      },\n      getOrdinalMeta: function () {\n        return this.__ordinalMeta;\n      },\n      defaultOption: zrUtil.mergeAll([{}, axisDefault[axisType + 'Axis'], extraDefaultOption], true)\n    });\n  });\n  ComponentModel.registerSubTypeDefaulter(axisName + 'Axis', zrUtil.curry(axisTypeDefaulter, axisName));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar Axis2D = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   */\n\n  this.position = position || 'bottom';\n};\n\nAxis2D.prototype = {\n  constructor: Axis2D,\n\n  /**\n   * Index of axis, can be used as key\n   */\n  index: 0,\n\n  /**\n   * Implemented in <module:echarts/coord/cartesian/Grid>.\n   * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n   *         If not on zero of other axis, return null/undefined.\n   *         If no axes, return an empty array.\n   */\n  getAxesOnZeroOf: null,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/cartesian/AxisModel}\n   */\n  model: null,\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  getGlobalExtent: function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  },\n  getOtherAxis: function () {\n    this.grid.getOtherAxis();\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  },\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var localCoord = axis.toLocalCoord(80);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toLocalCoord: null,\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var globalCoord = axis.toLocalCoord(40);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toGlobalCoord: null\n};\nzrUtil.inherits(Axis2D, Axis);\nvar _default = Axis2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModel = ComponentModel.extend({\n  type: 'cartesian2dAxis',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Axis2D}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  init: function () {\n    AxisModel.superApply(this, 'init', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function () {\n    AxisModel.superApply(this, 'mergeOption', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  restoreData: function () {\n    AxisModel.superApply(this, 'restoreData', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   * @return {module:echarts/model/Component}\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'grid',\n      index: this.option.gridIndex,\n      id: this.option.gridId\n    })[0];\n  }\n});\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\nvar extraOption = {\n  // gridIndex: 0,\n  // gridId: '',\n  // Offset is for multiple axis on the same position\n  offset: 0\n};\naxisModelCreator('x', AxisModel, getAxisType, extraOption);\naxisModelCreator('y', AxisModel, getAxisType, extraOption);\nvar _default = AxisModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Cartesian coordinate system\n * @module  echarts/coord/Cartesian\n *\n */\nfunction dimAxisMapper(dim) {\n  return this._axes[dim];\n}\n/**\n * @alias module:echarts/coord/Cartesian\n * @constructor\n */\n\n\nvar Cartesian = function (name) {\n  this._axes = {};\n  this._dimList = [];\n  /**\n   * @type {string}\n   */\n\n  this.name = name || '';\n};\n\nCartesian.prototype = {\n  constructor: Cartesian,\n  type: 'cartesian',\n\n  /**\n   * Get axis\n   * @param  {number|string} dim\n   * @return {module:echarts/coord/Cartesian~Axis}\n   */\n  getAxis: function (dim) {\n    return this._axes[dim];\n  },\n\n  /**\n   * Get axes list\n   * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n   */\n  getAxes: function () {\n    return zrUtil.map(this._dimList, dimAxisMapper, this);\n  },\n\n  /**\n   * Get axes list by given scale type\n   */\n  getAxesByScale: function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  },\n\n  /**\n   * Add axis\n   * @param {module:echarts/coord/Cartesian.Axis}\n   */\n  addAxis: function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  },\n\n  /**\n   * Convert data to coord in nd space\n   * @param {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  dataToCoord: function (val) {\n    return this._dataCoordConvert(val, 'dataToCoord');\n  },\n\n  /**\n   * Convert coord in nd space to data\n   * @param  {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  coordToData: function (val) {\n    return this._dataCoordConvert(val, 'coordToData');\n  },\n  _dataCoordConvert: function (input, method) {\n    var dimList = this._dimList;\n    var output = input instanceof Array ? [] : {};\n\n    for (var i = 0; i < dimList.length; i++) {\n      var dim = dimList[i];\n      var axis = this._axes[dim];\n      output[dim] = axis[method](input[dim]);\n    }\n\n    return output;\n  }\n};\nvar _default = Cartesian;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar Cartesian = require(\"./Cartesian\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction Cartesian2D(name) {\n  Cartesian.call(this, name);\n}\n\nCartesian2D.prototype = {\n  constructor: Cartesian2D,\n  type: 'cartesian2d',\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/cartesian/Axis2D}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  },\n\n  /**\n   * If contain point\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, reserved, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  clampData: function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n    return out;\n  },\n\n  /**\n   * Get other axis\n   * @param {module:echarts/coord/cartesian/Axis2D} axis\n   */\n  getOtherAxis: function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  },\n\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   * @return {BoundingRect}\n   */\n  getArea: function () {\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n  }\n};\nzrUtil.inherits(Cartesian2D, Cartesian);\nvar _default = Cartesian2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\nvar each = _util.each;\nvar map = _util.map;\nvar indexOf = _util.indexOf;\nvar retrieve = _util.retrieve;\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar ifAxisCrossZero = _axisHelper.ifAxisCrossZero;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\nvar estimateLabelUnionRect = _axisHelper.estimateLabelUnionRect;\n\nvar Cartesian2D = require(\"./Cartesian2D\");\n\nvar Axis2D = require(\"./Axis2D\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\nrequire(\"./GridModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\n// Depends on GridModel, AxisModel, which performs preprocess.\n\n/**\n * Check if the axis is used in the specified grid\n * @inner\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction Grid(gridModel, ecModel, api) {\n  /**\n   * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n   * @private\n   */\n  this._coordsMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n   * @private\n   */\n\n  this._coordsList = [];\n  /**\n   * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n   * @private\n   */\n\n  this._axesMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n   * @private\n   */\n\n  this._axesList = [];\n\n  this._initCartesian(gridModel, ecModel, api);\n\n  this.model = gridModel;\n}\n\nvar gridProto = Grid.prototype;\ngridProto.type = 'grid';\ngridProto.axisPointerEnabled = true;\n\ngridProto.getRect = function () {\n  return this._rect;\n};\n\ngridProto.update = function (ecModel, api) {\n  var axesMap = this._axesMap;\n\n  this._updateScale(ecModel, this.model);\n\n  each(axesMap.x, function (xAxis) {\n    niceScaleExtent(xAxis.scale, xAxis.model);\n  });\n  each(axesMap.y, function (yAxis) {\n    niceScaleExtent(yAxis.scale, yAxis.model);\n  }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n  var onZeroRecords = {};\n  each(axesMap.x, function (xAxis) {\n    fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n  });\n  each(axesMap.y, function (yAxis) {\n    fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n  }); // Resize again if containLabel is enabled\n  // FIXME It may cause getting wrong grid size in data processing stage\n\n  this.resize(this.model, api);\n};\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  }; // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n\n\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get('axisLine.onZero');\n  var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n  if (!onZero) {\n    return;\n  } // If target axis is specified.\n\n\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\n\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\n/**\n * Resize the grid\n * @param {module:echarts/coord/cartesian/GridModel} gridModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\ngridProto.resize = function (gridModel, api, ignoreContainLabel) {\n  var gridRect = getLayoutRect(gridModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n  this._rect = gridRect;\n  var axesList = this._axesList;\n  adjustAxes(); // Minus label size\n\n  if (!ignoreContainLabel && gridModel.get('containLabel')) {\n    each(axesList, function (axis) {\n      if (!axis.model.get('axisLabel.inside')) {\n        var labelUnionRect = estimateLabelUnionRect(axis);\n\n        if (labelUnionRect) {\n          var dim = axis.isHorizontal() ? 'height' : 'width';\n          var margin = axis.model.get('axisLabel.margin');\n          gridRect[dim] -= labelUnionRect[dim] + margin;\n\n          if (axis.position === 'top') {\n            gridRect.y += labelUnionRect.height + margin;\n          } else if (axis.position === 'left') {\n            gridRect.x += labelUnionRect.width + margin;\n          }\n        }\n      }\n    });\n    adjustAxes();\n  }\n\n  function adjustAxes() {\n    each(axesList, function (axis) {\n      var isHorizontal = axis.isHorizontal();\n      var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(extent[idx], extent[1 - idx]);\n      updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n    });\n  }\n};\n/**\n * @param {string} axisType\n * @param {number} [axisIndex]\n */\n\n\ngridProto.getAxis = function (axisType, axisIndex) {\n  var axesMapOnDim = this._axesMap[axisType];\n\n  if (axesMapOnDim != null) {\n    if (axisIndex == null) {\n      // Find first axis\n      for (var name in axesMapOnDim) {\n        if (axesMapOnDim.hasOwnProperty(name)) {\n          return axesMapOnDim[name];\n        }\n      }\n    }\n\n    return axesMapOnDim[axisIndex];\n  }\n};\n/**\n * @return {Array.<module:echarts/coord/Axis>}\n */\n\n\ngridProto.getAxes = function () {\n  return this._axesList.slice();\n};\n/**\n * Usage:\n *      grid.getCartesian(xAxisIndex, yAxisIndex);\n *      grid.getCartesian(xAxisIndex);\n *      grid.getCartesian(null, yAxisIndex);\n *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n *\n * @param {number|Object} [xAxisIndex]\n * @param {number} [yAxisIndex]\n */\n\n\ngridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n  if (xAxisIndex != null && yAxisIndex != null) {\n    var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n    return this._coordsMap[key];\n  }\n\n  if (isObject(xAxisIndex)) {\n    yAxisIndex = xAxisIndex.yAxisIndex;\n    xAxisIndex = xAxisIndex.xAxisIndex;\n  } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n  for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n    if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n      return coordList[i];\n    }\n  }\n};\n\ngridProto.getCartesians = function () {\n  return this._coordsList.slice();\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertToPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertFromPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n};\n/**\n * @inner\n */\n\n\ngridProto._findConvertTarget = function (ecModel, finder) {\n  var seriesModel = finder.seriesModel;\n  var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n  var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n  var gridModel = finder.gridModel;\n  var coordsList = this._coordsList;\n  var cartesian;\n  var axis;\n\n  if (seriesModel) {\n    cartesian = seriesModel.coordinateSystem;\n    indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n  } else if (xAxisModel && yAxisModel) {\n    cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  } else if (xAxisModel) {\n    axis = this.getAxis('x', xAxisModel.componentIndex);\n  } else if (yAxisModel) {\n    axis = this.getAxis('y', yAxisModel.componentIndex);\n  } // Lowest priority.\n  else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n\n  return {\n    cartesian: cartesian,\n    axis: axis\n  };\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.containPoint = function (point) {\n  var coord = this._coordsList[0];\n\n  if (coord) {\n    return coord.containPoint(point);\n  }\n};\n/**\n * Initialize cartesian coordinate systems\n * @private\n */\n\n\ngridProto._initCartesian = function (gridModel, ecModel, api) {\n  var axisPositionUsed = {\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  };\n  var axesMap = {\n    x: {},\n    y: {}\n  };\n  var axesCount = {\n    x: 0,\n    y: 0\n  }; /// Create axis\n\n  ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n  ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n  if (!axesCount.x || !axesCount.y) {\n    // Roll back when there no either x or y axis\n    this._axesMap = {};\n    this._axesList = [];\n    return;\n  }\n\n  this._axesMap = axesMap; /// Create cartesian2d\n\n  each(axesMap.x, function (xAxis, xAxisIndex) {\n    each(axesMap.y, function (yAxis, yAxisIndex) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      var cartesian = new Cartesian2D(key);\n      cartesian.grid = this;\n      cartesian.model = gridModel;\n      this._coordsMap[key] = cartesian;\n\n      this._coordsList.push(cartesian);\n\n      cartesian.addAxis(xAxis);\n      cartesian.addAxis(yAxis);\n    }, this);\n  }, this);\n\n  function createAxisCreator(axisType) {\n    return function (axisModel, idx) {\n      if (!isAxisUsedInTheGrid(axisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var axisPosition = axisModel.get('position');\n\n      if (axisType === 'x') {\n        // Fix position\n        if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n          // Default bottom of X\n          axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n        }\n      } else {\n        // Fix position\n        if (axisPosition !== 'left' && axisPosition !== 'right') {\n          // Default left of Y\n          axisPosition = axisPositionUsed.left ? 'right' : 'left';\n        }\n      }\n\n      axisPositionUsed[axisPosition] = true;\n      var axis = new Axis2D(axisType, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n      axisModel.axis = axis; // Inject axisModel into axis\n\n      axis.model = axisModel; // Inject grid info axis\n\n      axis.grid = this; // Index of axis, can be used as key\n\n      axis.index = idx;\n\n      this._axesList.push(axis);\n\n      axesMap[axisType][idx] = axis;\n      axesCount[axisType]++;\n    };\n  }\n};\n/**\n * Update cartesian properties from series\n * @param  {module:echarts/model/Option} option\n * @private\n */\n\n\ngridProto._updateScale = function (ecModel, gridModel) {\n  // Reset scale\n  each(this._axesList, function (axis) {\n    axis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (isCartesian2D(seriesModel)) {\n      var axesModels = findAxesModels(seriesModel, ecModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n\n      if (!isAxisUsedInTheGrid(xAxisModel, gridModel, ecModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n      var data = seriesModel.getData();\n      var xAxis = cartesian.getAxis('x');\n      var yAxis = cartesian.getAxis('y');\n\n      if (data.type === 'list') {\n        unionExtent(data, xAxis, seriesModel);\n        unionExtent(data, yAxis, seriesModel);\n      }\n    }\n  }, this);\n\n  function unionExtent(data, axis, seriesModel) {\n    each(data.mapDimension(axis.dim, true), function (dim) {\n      axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n      // is [0.1, 0.5], the extent of the `stackResultDimension`\n      // is [7, 9], the final extent should not include [0.1, 0.5].\n      data, getStackedDimension(data, dim));\n    });\n  }\n};\n/**\n * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n * @return {Object} {baseAxes: [], otherAxes: []}\n */\n\n\ngridProto.getTooltipAxes = function (dim) {\n  var baseAxes = [];\n  var otherAxes = [];\n  each(this.getCartesians(), function (cartesian) {\n    var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n    var otherAxis = cartesian.getOtherAxis(baseAxis);\n    indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n    indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n  });\n  return {\n    baseAxes: baseAxes,\n    otherAxes: otherAxes\n  };\n};\n/**\n * @inner\n */\n\n\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\n\nvar axesTypes = ['xAxis', 'yAxis'];\n/**\n * @inner\n */\n\nfunction findAxesModels(seriesModel, ecModel) {\n  return map(axesTypes, function (axisType) {\n    var axisModel = seriesModel.getReferringComponents(axisType)[0];\n    return axisModel;\n  });\n}\n/**\n * @inner\n */\n\n\nfunction isCartesian2D(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n\nGrid.create = function (ecModel, api) {\n  var grids = [];\n  ecModel.eachComponent('grid', function (gridModel, idx) {\n    var grid = new Grid(gridModel, ecModel, api);\n    grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n    // should be performed in create stage.\n\n    grid.resize(gridModel, api, true);\n    gridModel.coordinateSystem = grid;\n    grids.push(grid);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (!isCartesian2D(seriesModel)) {\n      return;\n    }\n\n    var axesModels = findAxesModels(seriesModel, ecModel);\n    var xAxisModel = axesModels[0];\n    var yAxisModel = axesModels[1];\n    var gridModel = xAxisModel.getCoordSysModel();\n    var grid = gridModel.coordinateSystem;\n    seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  });\n  return grids;\n}; // For deciding which dimensions to use when creating list data\n\n\nGrid.dimensions = Grid.prototype.dimensions = Cartesian2D.prototype.dimensions;\nCoordinateSystem.register('cartesian2d', Grid);\nvar _default = Grid;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./AxisModel\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid \n//  Cartesian2D \nvar _default = ComponentModel.extend({\n  type: 'grid',\n  dependencies: ['xAxis', 'yAxis'],\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Grid}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    show: false,\n    zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 60,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n *\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, z2\n * }\n */\nfunction layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  } // Axis position\n\n\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  } // Special label rotation\n\n\n  var labelRotate = axisModel.get('axisLabel.rotate');\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var isLargeRender = pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      function progress(params, data) {\n        var segCount = params.end - params.start;\n        var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n        for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n          var point;\n\n          if (dimLen === 1) {\n            var x = data.get(dims[0], i);\n            point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n          } else {\n            var x = tmpIn[0] = data.get(dims[0], i);\n            var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n            point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n          }\n\n          if (isLargeRender) {\n            points[offset++] = point ? point[0] : NaN;\n            points[offset++] = point ? point[1] : NaN;\n          } else {\n            data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n          }\n        }\n\n        isLargeRender && data.setLayout('symbolPoints', points);\n      }\n\n      return dimLen && {\n        progress: progress\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame, value) {\n  return Math.round(frame.length / 2);\n};\n\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n      if (coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n        var size = Math.abs(extent[1] - extent[0]);\n        var rate = Math.round(data.count() / size);\n\n        if (rate > 1) {\n          var sampler;\n\n          if (typeof sampling === 'string') {\n            sampler = samplers[sampling];\n          } else if (typeof sampling === 'function') {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isFunction = _util.isFunction;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, defaultSymbolType, legendSymbol) {\n  // Encoding visual for all series include which is filtered for legend drawing\n  return {\n    seriesType: seriesType,\n    // For legend.\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var symbolType = seriesModel.get('symbol');\n      var symbolSize = seriesModel.get('symbolSize');\n      var keepAspect = seriesModel.get('symbolKeepAspect');\n      var symbolRotate = seriesModel.get('symbolRotate');\n      var hasSymbolTypeCallback = isFunction(symbolType);\n      var hasSymbolSizeCallback = isFunction(symbolSize);\n      var hasSymbolRotateCallback = isFunction(symbolRotate);\n      var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback;\n      var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n      var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n      var seriesSymbolRotate = !hasSymbolRotateCallback ? seriesSymbolRotate : null;\n      data.setVisual({\n        legendSymbol: legendSymbol || seriesSymbol,\n        // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n        // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n        // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n        // some cases but generally it is not recommanded.\n        symbol: seriesSymbol,\n        symbolSize: seriesSymbolSize,\n        symbolKeepAspect: keepAspect,\n        symbolRotate: symbolRotate\n      }); // Only visible series has each data be visual encoded\n\n      if (ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      function dataEach(data, idx) {\n        if (hasCallback) {\n          var rawValue = seriesModel.getRawValue(idx);\n          var params = seriesModel.getDataParams(idx);\n          hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n          hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n          hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n        }\n\n        if (data.hasItemOption) {\n          var itemModel = data.getItemModel(idx);\n          var itemSymbolType = itemModel.getShallow('symbol', true);\n          var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n          var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n          var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n          if (itemSymbolType != null) {\n            data.setItemVisual(idx, 'symbol', itemSymbolType);\n          }\n\n          if (itemSymbolSize != null) {\n            // PENDING Transform symbolSize ?\n            data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n          }\n\n          if (itemSymbolRotate != null) {\n            data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n          }\n\n          if (itemSymbolKeepAspect != null) {\n            data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n          }\n        }\n      }\n\n      return {\n        dataEach: data.hasItemOption || hasCallback ? dataEach : null\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","/*!\n* screenfull\n* v5.2.0 - 2021-11-03\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (element, options) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar onFullScreenEntered = function () {\n\t\t\t\t\tthis.off('change', onFullScreenEntered);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenEntered);\n\n\t\t\t\telement = element || document.documentElement;\n\n\t\t\t\tvar returnPromise = element[fn.requestFullscreen](options);\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\texit: function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tif (!this.isFullscreen) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar onFullScreenExit = function () {\n\t\t\t\t\tthis.off('change', onFullScreenExit);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenExit);\n\n\t\t\t\tvar returnPromise = document[fn.exitFullscreen]();\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\ttoggle: function (element, options) {\n\t\t\treturn this.isFullscreen ? this.exit() : this.request(element, options);\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = {isEnabled: false};\n\t\t} else {\n\t\t\twindow.screenfull = {isEnabled: false};\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tisEnabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n"],"names":["zrUtil","require","_symbol","createSymbol","graphic","_number","parsePercent","_labelHelper","getDefaultLabel","SymbolClz","data","idx","seriesScope","Group","call","updateData","symbolProto","prototype","getSymbolSize","symbolSize","getItemVisual","Array","slice","getScale","driftSymbol","dx","dy","parent","drift","_createSymbol","symbolType","keepAspect","removeAll","color","symbolPath","attr","z2","culling","scale","_symbolType","add","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","trigger","downplay","setZ","zlevel","z","setDraggable","draggable","cursor","silent","seriesModel","hostModel","isInit","updateProps","_updateCommon","fadeIn","target","style","opacity","initProps","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","type","useStyle","strokeNoScale","setStyle","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","itemStyle","hoverItemStyle","symbolOffset","labelModel","hoverLabelModel","hoverAnimation","cursorStyle","hasItemOption","itemModel","getItemModel","getModel","getItemStyle","getShallow","extend","elStyle","symbolRotate","Math","PI","setColor","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","getLabelDefaultText","isRectText","autoColor","opt","getName","__symbolOriginalScale","hoverStyle","highDownOnUpdate","isAnimationEnabled","setHoverStyle","fromState","toState","incremental","useHoverLayer","ratio","emphasisOpt","max","animateTo","fadeOut","cb","keepLabel","text","dataIndex","inherits","_default","module","exports","_util","isObject","SymbolDraw","symbolCtor","group","_symbolCtor","symbolDrawProto","symbolNeedsDraw","point","isNaN","isIgnore","clipShape","contain","normalizeUpdateOpt","oldData","_data","SymbolCtor","makeSeriesScope","diff","newIdx","getItemLayout","symbolEl","setItemGraphicEl","update","oldIdx","getItemGraphicEl","remove","position","el","execute","isPersistent","updateLayout","eachItemGraphicEl","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","start","end","traverse","enableAnimation","get","round","createGridClipPath","cartesian","hasAnimation","rect","getArea","isHorizontal","getBaseAxis","x","y","width","height","lineWidth","floor","clipPath","Rect","shape","createPolarClipPath","polar","sectorArea","Sector","cx","cy","r0","r","startAngle","endAngle","clockwise","createClipPath","coordSys","_dataProvider","retrieveRawValue","labelDims","mapDimension","len","length","vals","i","val","push","join","echarts","visualSymbol","layoutPoints","dataSample","registerVisual","registerLayout","registerProcessor","PRIORITY","PROCESSOR","STATISTIC","_config","__DEV__","createListFromArray","SeriesModel","dependencies","getInitialData","option","ecModel","getSource","useEncodeDefaulter","defaultOption","coordinateSystem","legendHoverLink","clip","label","lineStyle","step","smooth","smoothMonotone","symbol","showSymbol","showAllSymbol","connectNulls","sampling","animationEasing","progressive","hoverLayerThreshold","Infinity","_bbox","fromPoints","lineAnimationDiff","modelUtil","_poly","Polyline","Polygon","ChartView","_helper","prepareDataCoordInfo","getStackedOnPoint","_createClipPathFromCoordSys","isPointsSame","points1","points2","p1","p2","getBoundingDiff","min1","max1","min2","max2","abs","getSmooth","getStackedOnPoints","dataCoordInfo","valueDim","points","count","turnPointsIntoStep","stepTurnAt","baseAxis","baseIndex","dim","stepPoints","nextPt","pt","stepPt","middle","stepPt2","getVisualGradient","visualMetaList","getVisual","coordDim","visualMeta","dimIndex","dimension","dimName","dimensions","dimInfo","getDimensionInfo","axis","getAxis","colorStops","map","stops","stop","coord","toGlobalCoord","dataToCoord","value","stopLen","outerColors","reverse","tinyExtent","minCoord","maxCoord","coordSpan","each","offset","unshift","gradient","LinearGradient","getIsIgnoreFunc","isAuto","categoryAxis","getAxesByScale","canShowAllSymbolForCategory","categoryDataDim","labelMap","getViewLabels","labelItem","tickValue","hasOwnProperty","axisExtent","getExtent","availSize","dataLen","createLineClipPath","rectShape","expandSize","init","lineGroup","symbolDraw","_symbolDraw","_lineGroup","render","api","getData","lineStyleModel","areaStyleModel","mapArray","isCoordSysPolar","prevCoordSys","_coordSys","polyline","_polyline","polygon","_polygon","isAreaChart","isEmpty","valueOrigin","stackedOnPoints","isIgnoreFunc","__temp","clipShapeForSymbol","r1","_clipShapeForSymbol","_step","_newPolyline","_newPolygon","setClipPath","_stackedOnPoints","_points","_updateAnimation","setShape","visualColor","defaults","getLineStyle","fill","stroke","lineJoin","stackedOnSeries","getCalculationInfo","stackedOnSmooth","getAreaStyle","_valueOrigin","dispose","payload","queryDataIndex","ignore","current","stackedOnCurrent","next","stackedOnNext","__points","updatedDataInfo","diffStatus","status","cmd","idx1","ptIdx","animators","during","_dataStackHelper","isDimensionStacked","valueAxis","getOtherAxis","valueStart","getValueStart","baseAxisDim","valueAxisDim","baseDim","baseDataOffset","dims","stacked","stackResultDim","dataDimsForPoint","stackedOverDimension","extent","NaN","stackedData","dataToPoint","diffData","newData","diffResult","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","diffItem","pointAdded","currentPt","getRawIndex","rawIndex","sort","a","b","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","Path","vec2","fixClipWithShadow","vec2Min","min","vec2Max","scaleAndAdd","v2Copy","copy","v","cp0","cp1","isPointNull","p","drawSegment","ctx","segLen","allLen","dir","smoothMin","smoothMax","drawNonMono","apply","arguments","drawMono","prevIdx","k","prevP","ctrlLen","bezierCurveTo","lineTo","nextIdx","nextP","ratioNextSeg","sub","lenPrevSeg","lenNextSeg","dist","getBoundingBox","smoothConstraint","ptMin","ptMax","brush","buildPath","result","bbox","stackedOnBBox","closePath","retrieve","formatUtil","Model","isRadianAroundZero","remRadian","matrixUtil","_vector","v2ApplyTransform","applyTransform","_axisHelper","shouldShowAllLabels","AxisBuilder","axisModel","labelOffset","nameDirection","tickDirection","labelDirection","dumbGroup","rotation","updateTransform","_transform","transform","_dumbGroup","constructor","hasBuilder","name","builders","getGroup","axisLine","matrix","pt1","pt2","lineCap","Line","anid","subPixelOptimize","x1","y1","x2","y2","strokeContainThreshold","arrows","arrowSize","arrowOffset","symbolWidth","symbolHeight","rotate","sqrt","index","pos","cos","sin","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","axisName","nameLocation","textStyleModel","gap","gapSignal","isNameLocationCenter","labelLayout","nameRotation","axisNameAvailableWidth","innerTextLayout","endTextLayout","isFinite","textFont","getFont","truncateOpt","ellipsis","maxWidth","nameTruncateMaxWidth","truncatedText","truncateText","minChar","placeholder","tooltipOpt","mainType","formatterParams","componentType","$vars","componentIndex","textEl","Text","__fullText","__truncatedText","isLabelSilent","tooltip","show","content","formatter","setTextStyle","textFill","getTextColor","textAlign","textVerticalAlign","eventData","makeAxisEventDataBase","targetType","decomposeTransform","axisRotation","textRotation","direction","rotationDiff","textPosition","textRotate","inverse","onLeft","tickEls","showMinLabel","showMaxLabel","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","nextTick","lastTick","prevTick","ignoreEl","isTwoLabelOverlapped","firstRect","getBoundingRect","clone","nextRect","mRotationBack","identity","mul","getLocalTransform","intersect","createTicks","ticksCoords","tickTransform","tickEndCoord","tickLineStyle","aniid","tickCoord","tickEl","axisBuilder","tickModel","isBlank","getTicksCoords","minorTickModel","minorTicksCoords","getMinorTicksCoords","minorTickLineStyle","minorTicksEls","axisLabelShow","labelMargin","labels","labelRotation","labelRotate","rawCategoryData","getCategories","triggerEvent","formattedLabel","rawLabel","itemLabelModel","textStyle","textColor","axisPointerModelHelper","AxisView","extendComponentView","_axisPointer","axisPointerClass","fixValue","superApply","updateAxisPointer","force","axisPointer","disposeAxisPointer","axisView","forceRender","Clazz","getAxisPointerClass","axisPointerModel","getAxisPointerModel","axisPointerClazz","registerAxisPointerClass","clazz","cartesianAxisHelper","_axisSplitHelper","rectCoordAxisBuildSplitArea","rectCoordAxisHandleRemove","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","gridModel","getCoordSysModel","layout","groupTransition","superCall","_splitLine","splitLineModel","lineColors","isArray","gridRect","getRect","lineCount","colorIndex","_minorSplitLine","minorSplitLineModel","_splitArea","axisGroup","splitAreaModel","areaColors","clamp","areaColorsLen","lastSplitAreaColors","__splitAreaColors","newSplitAreaColors","createHashMap","cIndex","prev","areaStyle","set","axisTrigger","registerPreprocessor","link","getComponent","coordSysAxesInfo","collect","registerAction","event","AxisPointerModel","extendComponentModel","triggerOn","snap","triggerTooltip","animation","animationDurationUpdate","shadowStyle","precision","margin","padding","backgroundColor","borderColor","borderWidth","handle","icon","size","throttle","globalListener","AxisPointerView","globalAxisPointerModel","globalTooltipModel","register","currTrigger","e","dispatchAction","indexOf","offsetX","offsetY","unregister","getZr","_model","clazzUtil","eventTool","throttleUtil","makeInner","inner","bind","BaseAxisPointer","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","animationThreshold","_axisModel","_axisPointerModel","_api","hide","elOption","makeElOption","graphicKey","clear","moveAnimation","_moveAnimation","determineAnimation","createPointerEl","createLabelEl","doUpdateProps","curry","updatePointerEl","updateLabelEl","updateMandatoryProps","_renderHandle","isCategoryAxis","useSnap","getBandWidth","seriesDataCount","getAxisInfo","pointerOption","pointer","pointerEl","labelEl","updateLabelShowHide","updateHandleTransform","zr","handleModel","createIcon","onmousemove","onmousedown","_onHandleDragMove","ondragend","_onHandleDragEnd","includeStyles","handleSize","createOrUpdate","_moveHandleToValue","getHandleTransProps","getHandleTransform","trans","lastProp","_doDispatchAxisPointer","payloadInfo","cursorPoint","tooltipOption","axesInfo","axisDim","axisIndex","doClear","buildLabel","xy","wh","xDimIndex","animationModel","props","propsEqual","lastProps","newProps","equals","item","key","enableClassExtend","viewHelper","CartesianAxisPointer","grid","axisPointerType","otherExtent","getCartesian","getGlobalExtent","pixelValue","buildElStyle","pointerShapeBuilder","layoutInfo","model","buildCartesianSingleLabelElOption","labelInside","getTransformedPosition","delta","currPosition","cursorOtherValue","tooltipOptions","verticalAlign","align","line","targetShape","makeLineShape","getAxisDimIndex","shadow","bandWidth","span","makeRectShape","modelHelper","findPointFromSeries","finder","illegalPoint","seriesIndex","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","dataByCoordSys","list","updaters","showPointer","showTooltip","coordSysMap","coordSysKey","coordSysContainsPoint","containPoint","axisInfo","inputAxisInfo","findInputAxisInfo","pointToData","processOnAxis","linkTriggers","tarAxisInfo","tarKey","linkGroup","srcAxisInfo","srcKey","srcValItem","mapper","parse","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","containData","involveSeries","buildPayloadsBySeries","payloadBatch","snapToValue","minDist","Number","MAX_VALUE","minDiff","seriesModels","series","dataDim","seriesNestestValue","dataIndices","getAxisTooltipData","nestestValue","indicesOfNearest","dataIndexInside","coordSysModel","makeKey","coordSysItem","coordSysId","id","coordSysIndex","coordSysType","coordSysMainType","dataByAxis","axisType","axisId","valueLabelOpt","seriesDataIndices","outputAxesInfo","valItem","useHandle","sampleItem","escapeConnect","highDownKey","lastHighlights","newHighlights","batchItem","toHighlight","toDownplay","batch","getSeriesByIndex","getTooltipPosition","getValues","env","handler","node","records","initGlobalListeners","record","initialized","useHandler","doEnter","onLeave","eventType","on","dis","makeDispatchAction","dispatchTooltipFinally","pendings","showLen","showTip","hideLen","hideTip","actuallyPayload","pendingList","seriesInvolved","collectAxesInfo","collectSeriesInfo","linksOption","linkGroups","getCoordinateSystems","axisPointerEnabled","axesInfoInCoordSys","baseTooltipModel","getAxes","saveTooltipAxisInfo","getTooltipAxes","triggerAxis","cross","tooltipAxes","baseAxes","otherAxes","fromTooltip","axisPointerShow","isHandleTrigger","makeAxisPointerModel","groupIndex","getLinkGroupIndex","tooltipAxisPointerModel","volatileOption","field","labelOption","tooltipAxisPointerLabelShow","crossStyle","eachSeries","seriesTooltipTrigger","seriesTooltipShow","linkOption","checkPropInLink","linkPropValue","axisPropValue","textContain","axisHelper","styleModel","buildLabelElOption","labelPos","getValueLabel","paddings","normalizeCssArray","font","textRect","confineInContainer","bgColor","textPadding","viewWidth","getWidth","viewHeight","getHeight","getLabel","params","getAxisRawValue","axisDimension","seriesData","idxItem","dataParams","getDataParams","isString","replace","isFunction","create","translate","textLayout","makeSectorShape","xAxis","yAxis","_layout","getLayoutRect","layoutBox","box","positionElement","componentModel","boxLayoutParams","getBoxLayoutParams","viewportSize","makeBackground","legendFilter","Component","SERIES_FILTER","registerSubTypeDefaulter","isNameSpecified","lang","langSelector","legend","selector","defaultSelectorOption","all","title","LegendModel","layoutMode","ignoreSize","parentModel","mergeDefaultAndTheme","selected","_updateSelector","mergeOption","merge","optionUpdated","_updateData","legendData","hasSelected","isSelected","select","potentialData","availableNames","eachRawSeries","seriesName","isPotential","legendVisualProvider","provider","names","getAllNames","isSeriesFiltered","concat","_availableNames","rawData","dataItem","selectedMode","unSelect","toggleSelected","allSelect","inverseSelect","getOrient","orient","left","top","borderRadius","itemGap","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","selectorLabel","fontSize","fontFamily","emphasis","selectorPosition","selectorItemGap","selectorButtonGap","_listComponent","layoutUtil","newlineDisabled","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","maxSize","mainRect","layoutInner","layoutRect","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","newline","getSeriesByName","legendSymbolType","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","containName","indexOfName","_createSelector","selectorGroup","selectorItem","createSelectorButton","labelText","onclick","emphasisLabelModel","symbolKeepAspect","legendModelItemStyle","itemIcon","tooltipModel","legendGlobalTooltipModel","legendSymbol","setSymbolStyle","legendSymbolCenter","textX","hitRect","invisible","legendIndex","eachChild","child","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","hw","yx","dataName","storage","getDisplayList","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","eachComponent","isItemSelected","legendModels","findComponents","filterSeries","_format","windowOpen","subtext","subtarget","fontWeight","subtextStyle","titleModel","subtextStyleModel","retrieve2","disableBox","subText","subTextEl","sublink","groupRect","layoutOption","alignStyle","zrColor","eventUtil","domUtil","toCamelCase","vendors","gCssText","assembleTransition","duration","transitionCurve","transitionText","vendorPrefix","assembleFont","cssText","lineHeight","assembleCssText","transitionDuration","canvasSupported","toHex","borderName","camelCase","makeStyleCoord","out","appendToBody","zrX","zrY","zrPainter","painter","zrViewportRoot","getViewportRoot","transformLocalCoord","document","body","viewportRootOffset","getViewportRootOffset","offsetLeft","offsetTop","TooltipContent","container","wxa","createElement","domBelongToZr","_zr","_appendToBody","_styleCoord","appendChild","_container","_show","_hideTimeout","self","onmouseenter","_enterable","clearTimeout","_inContent","window","normalizeEvent","dispatch","onmouseleave","hideLater","_hideDelay","stl","currentStyle","defaultView","getComputedStyle","domStyle","alwaysShowContent","_moveTooltipIfResized","ratioX","ratioY","realX","realY","moveTo","styleCoord","display","innerHTML","pointerEvents","setContent","setEnterable","enterable","getSize","clientWidth","clientHeight","time","setTimeout","isShow","parentNode","removeChild","getOuterSize","parseInt","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","showContent","displayMode","renderMode","confine","showDelay","hideDelay","extraCssText","animationEasingUpdate","graphicUtil","TooltipRichContent","markerRich","markers","prefix","suffix","startId","endId","substr","textWidth","textHeight","textBorderRadius","textBackgroundColor","textOffset","rich","textLineHeight","bounding","numberUtil","axisPointerViewHelper","getTooltipRenderMode","proxyRect","_renderMode","tooltipContent","getDom","_newLine","_tooltipContent","_tooltipModel","_ecModel","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","_tryShow","_hide","_lastX","_lastY","_refreshUpdateTimeout","isDisposed","manuallyShowTip","from","uid","_ticket","_manuallyAxisShowTip","pointInfo","findHover","manuallyHideTip","buildTooltipModel","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","delay","_showTimout","singleDefaultHTML","singleParamsList","singleTooltipModel","newLine","itemCoordSys","axisValue","seriesDefaultHTML","valueLabel","axisValueLabel","seriesTooltip","formatTooltip","html","newMarkers","firstLine","encodeHTML","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","random","undefined","dataModel","dataType","tooltipTrigger","defaultHtml","asyncTicket","subTooltipModel","formatTpl","callback","cbTicket","contentSize","vAlign","viewSize","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","thisItem","lastIndices","newIndices","lastIdxItem","j","newIdxItem","modelCascade","resultModel","pop","isInstance","gapH","gapV","domWidth","domHeight","rectWidth","rectHeight","nameRotate","nameTruncate","nameTextStyle","nameGap","onZero","onZeroAxisIndex","axisTick","inside","axisLabel","splitLine","splitArea","axisDefault","boundaryGap","deduplication","alignWithLabel","interval","splitNumber","minorTick","minorSplitLine","timeAxis","logAxis","logBase","ComponentModel","getLayoutParams","mergeLayoutParam","OrdinalMeta","AXIS_TYPES","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","inputPositionParams","themeModel","getTheme","getDefaultOption","thisOption","__ordinalMeta","createByAxisModel","categories","getOrdinalMeta","mergeAll","Axis","Axis2D","coordExtent","getAxesOnZeroOf","asc","ret","coordToData","toLocalCoord","axisModelCreator","axisModelCommonMixin","AxisModel","resetRange","restoreData","queryComponents","gridIndex","gridId","getAxisType","extraOption","dimAxisMapper","_axes","Cartesian","_dimList","scaleType","toLowerCase","filter","addAxis","_dataCoordConvert","input","method","dimList","output","BoundingRect","Cartesian2D","axisX","axisY","reserved","clampData","xScale","yScale","xAxisExtent","yAxisExtent","xExtent","yExtent","createScaleByModel","ifAxisCrossZero","niceScaleExtent","estimateLabelUnionRect","CoordinateSystem","getStackedDimension","isAxisUsedInTheGrid","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","gridProto","_rect","axesMap","_updateScale","onZeroRecords","fixAxisOnZero","resize","otherAxisDim","otherAxisOnZeroOf","canOnZeroToAxis","getOnZeroRecordKey","ignoreContainLabel","axesList","adjustAxes","labelUnionRect","setExtent","updateAxisTransform","axesMapOnDim","xAxisIndex","yAxisIndex","coordList","getCartesians","convertToPixel","_findConvertTarget","convertFromPixel","xAxisModel","getReferringComponents","yAxisModel","coordsList","axisPositionUsed","right","bottom","axesCount","createAxisCreator","axisPosition","isCategory","onBand","isCartesian2D","axesModels","findAxesModels","unionExtent","unionExtentFromData","otherAxis","coordBase","axisExtentSum","axesTypes","grids","containLabel","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","createRenderPlanner","seriesType","plan","reset","pipelineContext","isLargeRender","large","dimLen","progress","segCount","Float32Array","tmpIn","tmpOut","setItemLayout","setLayout","samplers","average","frame","sum","nearest","indexSampler","modifyOutputEnd","rate","sampler","setData","downSample","defaultSymbolType","performRawSeries","hasSymbolTypeCallback","hasSymbolSizeCallback","hasSymbolRotateCallback","hasCallback","seriesSymbol","seriesSymbolSize","seriesSymbolRotate","setVisual","dataEach","rawValue","getRawValue","setItemVisual","itemSymbolType","itemSymbolSize","itemSymbolRotate","itemSymbolKeepAspect","isCommonjs","fn","fnMap","l","eventNameMap","change","fullscreenchange","error","fullscreenerror","screenfull","request","element","options","Promise","resolve","reject","onFullScreenEntered","off","documentElement","returnPromise","requestFullscreen","then","catch","exit","isFullscreen","onFullScreenExit","exitFullscreen","toggle","onchange","onerror","eventName","addEventListener","removeEventListener","raw","isEnabled","Object","defineProperties","Boolean","fullscreenElement","enumerable","fullscreenEnabled"],"sourceRoot":""}