(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[913],{45471:function(e,t,n){"use strict";function r(e){return{type:"GET_ARTICLE_LIST",payload:e}}function a(e){return{type:"GET_ARTICLE_DETAIL",payload:e}}n.d(t,{Z:function(){return r},N:function(){return a}})},54601:function(e,t,n){"use strict";function r(e){return{type:"GET_CHANNEL_LIST",payload:e}}function a(e){return{type:"EDIT_CHANNEL",payload:e}}function o(e){return{type:"EDITOR_PICK_CHANNEL",payload:e}}n.d(t,{Ky:function(){return r},s9:function(){return a},DQ:function(){return o}})},57539:function(e,t,n){"use strict";function r(e){return{type:"GET_DASHBOARD_DATA",payload:e}}function a(e){return{type:"GET_TREND_DATA",payload:e}}n.d(t,{E:function(){return r},K:function(){return a}})},90822:function(e,t,n){"use strict";function r(e){return{type:"GET_TAG_LIST",payload:e}}n.d(t,{h:function(){return r}})},7182:function(e,t,n){"use strict";function r(e){return{type:"GET_APP_LIST",payload:e}}function a(e){return{type:"ADD_APP",payload:e}}function o(e){return{type:"EDIT_APP",payload:e}}n.d(t,{$w:function(){return r},nG:function(){return a},n0:function(){return o}})},85842:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return de}});var r=n(13400),a=n(16306),o=n(38439),i=n(71553),c=n(1549),u=n(26933),l=n(51110),s=n(97692),p=n(35466),m=n(48230),f=n(44208),h=n(95937),y=n(78464),d=n(68187),g=n(81666),Z=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(768),n.e(826)]).then(n.bind(n,47877))})),v=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,22245))})),E=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,76749))})),b=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,71641))})),k=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,57304))})),T=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,39471))})),x=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,24663))})),S=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,97237))})),C=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,60748))})),I=(0,g.Z)((function(){return n.e(8).then(n.bind(n,55008))})),P=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(402),n.e(748)]).then(n.bind(n,74748))})),_=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(402),n.e(706)]).then(n.bind(n,45706))})),N=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,38e3))})),A=(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,16741))})),w=((0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,57194))})),[{path:"/index",exact:!0,name:"Index",component:Z,auth:[1]},{path:"/app/overview/app",exact:!1,name:"应用列表",component:k},{path:"/app/overview/tag",exact:!1,name:"标签列表",component:T},{path:"/app/cruise/channel",exact:!1,name:"频道列表",component:E},{path:"/app/overview/user",exact:!1,name:"用户列表",component:b},{path:"/app/cruise/article",exact:!0,name:"文章列表",component:x},{path:"/app/cruise/article/detail/:id",exact:!1,name:"文章详情",component:S},{path:"/app/cruise/product",exact:!1,name:"商品",component:C},{path:"/app/acientbay/collection",exact:!1,name:"作品管理",component:I},{path:"/app/cernitor/domain",exact:!1,name:"作品管理",component:P},{path:"/app/cernitor/notify-channel",exact:!1,name:"通知管理",component:_},{path:"/app/music/fav",exact:!1,name:"收藏",component:N},{path:"/app/dict/translate",exact:!1,name:"翻译",component:A},{path:"/app/dict/glossary",exact:!1,name:"生词本",component:A},{path:"/profile/password",exact:!1,name:"修改密码",component:(0,g.Z)((function(){return Promise.all([n.e(98),n.e(663),n.e(992),n.e(20),n.e(443)]).then(n.bind(n,20868))}))},{path:"/about",exact:!1,name:"关于",component:v,auth:[1]}]),K=n(72360),O=n.n(K),D=n(43605),R=n.n(D),L=[{key:"/index",title:"首页",icon:"home",auth:[1]},{title:"应用",key:"/app",icon:"bars",subs:[{title:"全局",key:"/app/overview",icon:"bars",subs:[{title:"应用",key:"/app/overview/app",icon:"bars"},{title:"标签",key:"/app/overview/tag",icon:"bars"},{title:"用户",key:"/app/overview/user",icon:"user"}]},{title:"Cruise",key:"/app/cruise",icon:"bars",subs:[{title:"频道",key:"/app/cruise/channel",icon:"bars"},{title:"文章",key:"/app/cruise/article",icon:"bars"},{title:"商品",key:"/app/cruise/product",icon:"bars"}]},{title:"AcientBay",key:"/app/acientbay",icon:"bars",subs:[{title:"作品管理",key:"/app/acientbay/collection",icon:""},{title:"开发中",key:"/one/two/three",icon:""}]},{title:"Cernitor",key:"/app/cernitor",icon:"bars",subs:[{title:"域名管理",key:"/app/cernitor/domain",icon:""},{title:"通知管理",key:"/app/cernitor/notify-channel",icon:""}]},{title:"长歌",key:"/app/music",icon:"bars",subs:[{title:"收藏音乐",key:"/app/music/fav",icon:""},{title:"专辑",key:"/app/music/album",icon:""},{title:"歌手",key:"/app/music/author",icon:""},{title:"歌单",key:"/app/music/playlist",icon:""}]},{title:"红矮星词典",key:"/app/dict",icon:"bars",subs:[{title:"翻译",key:"/app/dict/translate",icon:""},{title:"生词本",key:"/app/dict/glossary",icon:""}]}]},{title:"个人设置",key:"/profile",icon:"bars",auth:[1],subs:[{title:"修改密码",key:"/profile/password",icon:"bars"}]},{title:"系统设置",key:"/system",icon:"bars",auth:[1],subs:[{title:"主题",key:"/profile/password1",icon:"bars"}]},{title:"关于",key:"/about",icon:"bars",auth:[1]}],M=n(3074),G=n.n(M),B=n(39260),H=n(14948),U=n(62800),j=n(77183),q=n(8284),z=n(27586),J=n(8978),W=n(32529),$=n(55191),Q=n(15298),F=h.Z.Header,V=function(e){var t=e.menuClick,n=e.avatar,r=e.menuToggle,a=e.loginOut,o=p.createElement(B.Z,null,p.createElement(B.Z.ItemGroup,{title:"用户设置"},p.createElement(B.Z.Divider,null),p.createElement(B.Z.Item,null,p.createElement(q.Z,null),"个人设置"),p.createElement(B.Z.Item,null,p.createElement(z.Z,{theme:"filled"}),"系统设置")),p.createElement(B.Z.Divider,null),p.createElement(B.Z.Item,null,p.createElement("span",{onClick:a},p.createElement(J.Z,null)," 退出登录")));return p.createElement(F,{className:"header"},p.createElement("div",{className:"left"},p.createElement(W.Z,{style:{fontSize:"2rem"},onClick:t,type:r?"menu-unfold":"menu-fold"})),p.createElement("div",{className:"right"},p.createElement("div",{className:"mr15"},p.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/jiangxiaoqiang/react-admin",target:"_blank"},p.createElement($.Z,{style:{color:"#000"}}))),p.createElement("div",{className:"mr15"},p.createElement(H.Z,{dot:!0,offset:[-2,0]},p.createElement("a",{href:"https://github.com/jiangxiaoqiang/react-admin",style:{color:"#000"}},p.createElement(Q.Z,null)))),p.createElement("div",null,p.createElement(U.Z,{overlay:o,overlayStyle:{width:"20rem"}},p.createElement("div",{className:"ant-dropdown-link"},p.createElement(j.C,{icon:"user",src:n,alt:"avatar",style:{cursor:"pointer"}}))))))};V.propTypes={menuClick:G().func,avatar:G().string,menuToggle:G().bool,loginOut:G().func};var X=p.memo(V),Y=n(99041),ee=n(45560);var te=function(e){(0,c.Z)(m,e);var t,n,r=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function m(){var e;(0,a.Z)(this,m);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,s.Z)((0,i.Z)(e),"state",{openKeys:[],selectedKeys:[]}),(0,s.Z)((0,i.Z)(e),"getOpenKeys",(function(e){for(var t="",n=[],r=e.split("/").map((function(e){return"/"+e})),a=1;a<r.length-1;a++)t+=r[a],n.push(t);return n})),(0,s.Z)((0,i.Z)(e),"onOpenChange",(function(t){if(0!==t.length&&1!==t.length){var n=t[t.length-1];n.includes(t[0])?e.setState({openKeys:t}):e.setState({openKeys:[n]})}else e.setState({openKeys:t})})),(0,s.Z)((0,i.Z)(e),"renderMenuItem",(function(e){var t=e.key,n=e.icon,r=e.title;return p.createElement(B.Z.Item,{key:t},p.createElement(ee.rU,{to:t},n&&p.createElement(Y.Z,{type:n}),p.createElement("span",null,r)))})),(0,s.Z)((0,i.Z)(e),"renderSubMenu",(function(t){var n=t.key,r=t.icon,a=t.title,o=t.subs;return p.createElement(B.Z.SubMenu,{key:n,title:p.createElement("span",null,r&&p.createElement(Y.Z,{type:r}),p.createElement("span",null,a))},o&&o.map((function(t){return t.subs&&t.subs.length>0?e.renderSubMenu(t):e.renderMenuItem(t)})))})),e}return(0,o.Z)(m,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;this.setState({selectedKeys:[e],openKeys:this.getOpenKeys(e)})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.location.pathname;e.location.pathname!==n&&this.setState({selectedKeys:[n],openKeys:this.getOpenKeys(n)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.openKeys,r=t.selectedKeys;return p.createElement(B.Z,{mode:"inline",theme:"dark",openKeys:n,selectedKeys:r,onClick:function(t){var n=t.key;return e.setState({selectedKeys:[n]})},onOpenChange:this.onOpenChange},this.props.menu&&this.props.menu.map((function(t){return t.subs&&t.subs.length>0?e.renderSubMenu(t):e.renderMenuItem(t)})))}}]),m}(p.Component);te.propTypes={menu:G().array.isRequired};var ne=(0,m.EN)(te),re=h.Z.Sider,ae=function(e){var t=e.menuToggle,n=e.menu;return p.createElement(re,{className:"aside",collapsed:t},p.createElement("div",{className:"logo"},p.createElement("a",{rel:"noopener noreferrer",href:"",target:"_blank"},p.createElement($.Z,{type:"github",style:{fontSize:"3.8rem",color:"#fff"}}))),p.createElement(ne,{menu:n}))};ae.propTypes={menuToggle:G().bool,menu:G().array.isRequired};var oe=ae,ie=h.Z.Footer,ce=function(){return p.createElement(ie,{className:"footer"},"管理后台 ©2021 红矮星")},ue=n(54601),le=n(22078),se=n(45471),pe=n(57539),me=n(7182),fe=n(90822);var he=h.Z.Content,ye=function(e){(0,c.Z)(g,e);var t,n,f=(t=g,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function g(){var e;(0,a.Z)(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=f.call.apply(f,[this].concat(n)),(0,s.Z)((0,i.Z)(e),"state",{avatar:R(),show:!0,menu:[]}),(0,s.Z)((0,i.Z)(e),"isLogin",(function(){localStorage.getItem("user")?e.setState({menu:e.getMenu(L)}):e.props.history.push("/login")})),(0,s.Z)((0,i.Z)(e),"loginOut",(function(){localStorage.clear(),e.props.history.push("/login"),y.ZP.success("登出成功!")})),(0,s.Z)((0,i.Z)(e),"getMenu",(function(e){var t=JSON.parse(localStorage.getItem("user")).auth;return t?e.filter((function(e){return e.auth&&-1!==e.auth.indexOf(t)})):e})),e}return(0,o.Z)(g,[{key:"componentDidMount",value:function(){this.isLogin()}},{key:"componentDidUpdate",value:function(){var e=this.props.location.pathname;this.timer="/"===e||"/index"===e?setTimeout((function(){var e=document.getElementById("line");null!=e&&O().init(e).resize()}),100):null}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.props,n=t.menuClick,a=t.menuToggle,o=(JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")):"").auth;return p.createElement(h.Z,{className:"app"},p.createElement(d.Z,null),p.createElement(oe,{menuToggle:a,menu:this.state.menu}),p.createElement(h.Z,{style:{marginLeft:a?"80px":"200px",minHeight:"100vh"}},p.createElement(X,{menuToggle:a,menuClick:n,avatar:this.state.avatar,show:this.state.show,loginOut:this.loginOut}),p.createElement(he,{className:"content"},p.createElement(m.rs,null,w.map((function(t){return p.createElement(m.AW,{key:t.path,path:t.path,exact:t.exact,render:function(n){return o?t.auth&&-1!==t.auth.indexOf(o)?p.createElement(t.component,e.props):p.createElement(m.l_,(0,r.Z)({to:"/404"},n)):p.createElement(t.component,e.props)}})})),p.createElement(m.l_,{to:"/404"}))),p.createElement(ce,null)))}}]),g}(p.Component),de=(0,m.EN)((0,f.$j)((function(e){return{menuToggle:e.menuToggle,channel:e.channel,user:e.user,article:e.article,dashboard:e.dashboard,app:e.app,tag:e.tag,favMusic:e.favMusic,domain:e.domain,translate:e.translate}}),(function(e){return{menuClick:function(){e({type:"menuToggle"})},getChannels:function(t){e((0,ue.Ky)(t))},getUserList:function(t){e((0,le.nQ)(t))},getArticleList:function(t){e((0,se.Z)(t))},removeUser:function(t){e((0,le.xW)(t))},getDashboard:function(t){e((0,pe.E)(t))},getApp:function(t){e((0,me.$w)(t))},getTag:function(t){e((0,fe.h)(t))}}}))(ye))},43605:function(e,t,n){e.exports=n.p+"/public/icons/user.jpg"}}]);