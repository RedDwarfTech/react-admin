(self.webpackChunkreact_admin=self.webpackChunkreact_admin||[]).push([[826],{98737:function(e,t,n){"use strict";n.d(t,{AU:function(){return d}});var s=n(24559),r=n.n(s),a=n(52018),o=n(78464),c=n(22078),i=!1,u=[],l=r().create({timeout:15e3});function j(){a.Z.dispatch((0,c.xW)("")),window.location.href="/#/login"}function d(e,t){return l(e).then((function(e){if(e){var n=null==e.data.result||0===Object.keys(e.data.result).length?{}:e.data.result;a.Z.dispatch(t(n))}})).catch((function(e){console.error(e)}))}l.defaults.headers.post["Content-Type"]="application/json",l.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return t&&(e.headers["x-access-token"]=t),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){if(200===e.status&&"200"===e.data.statusCode&&"200"===e.data.resultCode)return Promise.resolve(e);if("907"===e.data.statusCode)j();else if("904"===e.data.statusCode)j();else{if("00100100004016"!==e.data.resultCode){var t=e.data.msg;return o.ZP.error(t),Promise.reject(e)}!function(e){var t,n=e.config;if(i)return new Promise((function(e){u.push((function(t){n.baseURL="",n.headers["x-access-token"]=t,e(l(n))}))}));i=!0,(t=localStorage.getItem("refreshToken"),t||j(),function(e){return function(e){return l(e).then((function(e){if(e)return null==e.data.result||0===Object.keys(e.data.result).length?{}:e.data.result})).catch((function(e){console.error(e)}))}({method:"post",url:"/manage/auth/access_token/refresh",data:{deviceId:"xxxxxx",app:6,refreshToken:e}})}(t)).then((function(e){var t=e.accessToken;if(t)return localStorage.setItem("token",t),localStorage.setItem("accessToken",t),l.defaults.headers["x-access-token"]=t,u.forEach((function(e){return e(t)})),u=[],l(n)})).catch((function(e){console.error("refreshtoken error =>",e),j()})).finally((function(){i=!1}))}(e)}}),(function(e){switch(e.response.status){case 401:case 403:case 404:case 500:break;default:console.log("其他错误信息")}return Promise.reject(e)}))},47877:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var s=n(16306),r=n(38439),a=n(71553),o=n(1549),c=n(26933),i=n(51110),u=n(97692),l=n(35466),j=n(95937),d=n(49624),f=n(40137),m=n(19383),h=n.n(m),p=n(34919),v=n(72360),g=n.n(v),y=(n(9239),n(48634),n(55835),n(67677),n(90421)),k=n.n(y),b=n(57539),z=n(98737);var Z=function(e){(0,o.Z)(d,e);var t,n,j=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,c.Z)(this,e)});function d(){var e;(0,s.Z)(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=j.call.apply(j,[this].concat(n)),(0,u.Z)((0,a.Z)(e),"state",{trend:{}}),e}return(0,r.Z)(d,[{key:"componentDidMount",value:function(){var e,t;e={},t={method:"post",url:"/manage/home/v1/trend/overview",data:JSON.stringify(e)},(0,z.AU)(t,b.K)}},{key:"render",value:function(){var e=this.props.trend;if(e&&0===Object.keys(e).length||void 0===e);else{var t=document.getElementById("line");if(null==t)return l.createElement("div",null,"暂无数据");var n=g().init(t);n.setOption({tooltip:{trigger:"axis"},legend:{data:["文章","频道","编辑选择文章"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.props.trend.length>0?(0,p.Z)(new Set(this.props.trend.map((function(e){return k().unix(parseInt(e.statistic_time)/1e3).format("YYYY-MM-DD")})))):[""]},yAxis:{type:"value"},series:[{name:"文章",type:"line",data:this.props.trend.length>0?this.props.trend.filter((function(e){return 1===e.trend_item})).map((function(e){return e.incre_num})):[1]},{name:"频道",type:"line",data:this.props.trend.length>0?this.props.trend.filter((function(e){return 2===e.trend_item})).sort((function(e,t){return e.statistic_time-t.statistic_time})).map((function(e){return e.incre_num})):[1]},{name:"编辑选择文章",type:"line",data:this.props.trend.length>0?this.props.trend.filter((function(e){return 3===e.trend_item})).map((function(e){return e.trend_item})):[1]}]}),window.addEventListener("resize",(function(){n.resize()}))}return l.createElement("div",{id:"line",style:{height:300}})}}]),d}(l.Component),x=Z,E=n(54377);var w=function(e){(0,o.Z)(p,e);var t,n,m=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,c.Z)(this,e)});function p(){var e;(0,s.Z)(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=m.call.apply(m,[this].concat(n)),(0,u.Z)((0,a.Z)(e),"fullToggle",(function(){h().isEnabled&&h().request(document.getElementById("bar"))})),e}return(0,r.Z)(p,[{key:"componentDidMount",value:function(){var e;e={method:"get",url:"/manage/home/v1/dashboard/overview",data:JSON.stringify("")},(0,z.AU)(e,b.E)}},{key:"render",value:function(){var e=this.props.dashboard.dashboard;return e&&0===Object.keys(e).length||void 0===e?l.createElement("div",null,"loading..."):l.createElement(j.Z,{className:"index animated fadeIn"},l.createElement(d.Z,{gutter:24,className:"index-header"},l.createElement(f.Z,{span:6},l.createElement("div",{className:"base-style wechat"},l.createElement(E.Z,{type:"app",className:"icon-style"}),l.createElement("div",null,l.createElement("span",null,e.app_count),l.createElement("div",null,"应用数"))))),l.createElement(d.Z,{gutter:8},l.createElement(f.Z,{span:12},l.createElement("div",{className:"base-style"},l.createElement(x,{trend:this.props.dashboard.trend})))))}}]),p}(l.Component),_=w},46700:function(e,t,n){var s={"./af":89127,"./af.js":89127,"./ar":67006,"./ar-dz":72633,"./ar-dz.js":72633,"./ar-kw":63215,"./ar-kw.js":63215,"./ar-ly":96968,"./ar-ly.js":96968,"./ar-ma":52572,"./ar-ma.js":52572,"./ar-sa":68319,"./ar-sa.js":68319,"./ar-tn":75629,"./ar-tn.js":75629,"./ar.js":67006,"./az":76722,"./az.js":76722,"./be":15958,"./be.js":15958,"./bg":74921,"./bg.js":74921,"./bm":17293,"./bm.js":17293,"./bn":52288,"./bn-bd":9907,"./bn-bd.js":9907,"./bn.js":52288,"./bo":82127,"./bo.js":82127,"./br":43922,"./br.js":43922,"./bs":78932,"./bs.js":78932,"./ca":13246,"./ca.js":13246,"./cs":18208,"./cs.js":18208,"./cv":26492,"./cv.js":26492,"./cy":71883,"./cy.js":71883,"./da":12285,"./da.js":12285,"./de":6454,"./de-at":3082,"./de-at.js":3082,"./de-ch":9076,"./de-ch.js":9076,"./de.js":6454,"./dv":9016,"./dv.js":9016,"./el":83093,"./el.js":83093,"./en-au":85535,"./en-au.js":85535,"./en-ca":12610,"./en-ca.js":12610,"./en-gb":78386,"./en-gb.js":78386,"./en-ie":35272,"./en-ie.js":35272,"./en-il":73563,"./en-il.js":73563,"./en-in":68604,"./en-in.js":68604,"./en-nz":82140,"./en-nz.js":82140,"./en-sg":28217,"./en-sg.js":28217,"./eo":59823,"./eo.js":59823,"./es":30312,"./es-do":69546,"./es-do.js":69546,"./es-mx":69089,"./es-mx.js":69089,"./es-us":37781,"./es-us.js":37781,"./es.js":30312,"./et":58563,"./et.js":58563,"./eu":64003,"./eu.js":64003,"./fa":40463,"./fa.js":40463,"./fi":68941,"./fi.js":68941,"./fil":51742,"./fil.js":51742,"./fo":40006,"./fo.js":40006,"./fr":32346,"./fr-ca":60761,"./fr-ca.js":60761,"./fr-ch":10982,"./fr-ch.js":10982,"./fr.js":32346,"./fy":24934,"./fy.js":24934,"./ga":22670,"./ga.js":22670,"./gd":41733,"./gd.js":41733,"./gl":72271,"./gl.js":72271,"./gom-deva":75537,"./gom-deva.js":75537,"./gom-latn":70763,"./gom-latn.js":70763,"./gu":84125,"./gu.js":84125,"./he":81651,"./he.js":81651,"./hi":18602,"./hi.js":18602,"./hr":8641,"./hr.js":8641,"./hu":3079,"./hu.js":3079,"./hy-am":60443,"./hy-am.js":60443,"./id":8963,"./id.js":8963,"./is":11343,"./is.js":11343,"./it":28072,"./it-ch":33115,"./it-ch.js":33115,"./it.js":28072,"./ja":58183,"./ja.js":58183,"./jv":71064,"./jv.js":71064,"./ka":81999,"./ka.js":81999,"./kk":29360,"./kk.js":29360,"./km":43667,"./km.js":43667,"./kn":41882,"./kn.js":41882,"./ko":42401,"./ko.js":42401,"./ku":42583,"./ku.js":42583,"./ky":66751,"./ky.js":66751,"./lb":81193,"./lb.js":81193,"./lo":80769,"./lo.js":80769,"./lt":44409,"./lt.js":44409,"./lv":9262,"./lv.js":9262,"./me":97514,"./me.js":97514,"./mi":83434,"./mi.js":83434,"./mk":70610,"./mk.js":70610,"./ml":71654,"./ml.js":71654,"./mn":86730,"./mn.js":86730,"./mr":47196,"./mr.js":47196,"./ms":20487,"./ms-my":14750,"./ms-my.js":14750,"./ms.js":20487,"./mt":58856,"./mt.js":58856,"./my":21240,"./my.js":21240,"./nb":12121,"./nb.js":12121,"./ne":89802,"./ne.js":89802,"./nl":80737,"./nl-be":93497,"./nl-be.js":93497,"./nl.js":80737,"./nn":18153,"./nn.js":18153,"./oc-lnc":55173,"./oc-lnc.js":55173,"./pa-in":10499,"./pa-in.js":10499,"./pl":53629,"./pl.js":53629,"./pt":95702,"./pt-br":23312,"./pt-br.js":23312,"./pt.js":95702,"./ro":10719,"./ro.js":10719,"./ru":33778,"./ru.js":33778,"./sd":25545,"./sd.js":25545,"./se":35811,"./se.js":35811,"./si":12015,"./si.js":12015,"./sk":21587,"./sk.js":21587,"./sl":20147,"./sl.js":20147,"./sq":36821,"./sq.js":36821,"./sr":63019,"./sr-cyrl":37792,"./sr-cyrl.js":37792,"./sr.js":63019,"./ss":15078,"./ss.js":15078,"./sv":13593,"./sv.js":13593,"./sw":57655,"./sw.js":57655,"./ta":51553,"./ta.js":51553,"./te":65967,"./te.js":65967,"./tet":39236,"./tet.js":39236,"./tg":82091,"./tg.js":82091,"./th":44141,"./th.js":44141,"./tk":14204,"./tk.js":14204,"./tl-ph":98941,"./tl-ph.js":98941,"./tlh":99565,"./tlh.js":99565,"./tr":6075,"./tr.js":6075,"./tzl":91637,"./tzl.js":91637,"./tzm":48231,"./tzm-latn":84943,"./tzm-latn.js":84943,"./tzm.js":48231,"./ug-cn":27822,"./ug-cn.js":27822,"./uk":17263,"./uk.js":17263,"./ur":71769,"./ur.js":71769,"./uz":29736,"./uz-latn":24725,"./uz-latn.js":24725,"./uz.js":29736,"./vi":9562,"./vi.js":9562,"./x-pseudo":7219,"./x-pseudo.js":7219,"./yo":76195,"./yo.js":76195,"./zh-cn":37289,"./zh-cn.js":37289,"./zh-hk":51589,"./zh-hk.js":51589,"./zh-mo":49708,"./zh-mo.js":49708,"./zh-tw":23384,"./zh-tw.js":23384};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=46700}}]);